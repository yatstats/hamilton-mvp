<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Alumni News • Hamilton YATSTATS</title>
<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400&family=Bebas+Neue&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#0c0c0c; --fg:#f2f2f2; --muted:#c4c4c4; --line:rgba(255,255,255,.1);
  --card-bg:#171717; --header-bg:#000;
}
body { margin:0; font-family:Oswald, sans-serif; background:var(--bg); color:var(--fg);}
a { text-decoration:none; color:inherit; }
header { background:var(--header-bg); padding:10px; border-bottom:1px solid var(--line);}
header .title { font:400 20px "Bebas Neue", sans-serif; letter-spacing:.05em;}
.container { max-width:1400px; margin:0 auto; padding:12px; }
.grid { display:grid; gap:20px; grid-template-columns:2fr 2fr 1fr; }
@media(max-width:1000px){ .grid{grid-template-columns:1fr 1fr;} }
@media(max-width:700px){ .grid{grid-template-columns:1fr;} }

h3 { font:400 18px "Bebas Neue", sans-serif; margin:0 0 10px; }
.news-col, .scores-col { background:var(--card-bg); padding:12px; border-radius:8px; }
.linescore-week h4 { margin:10px 0; font:400 16px "Bebas Neue", sans-serif; }
.linescore-player { margin:10px 0; }
.linescore-player strong { display:block; font:400 15px "Bebas Neue", sans-serif; margin-bottom:4px; }
.linescore-player div { font-size:14px; color:var(--muted); margin-left:8px; }
.error { color:#f66; font-size:14px; }
</style>
</head>
<body>

<header>
  <div class="container">
    <div class="title">Hamilton High School • Alumni News & Scores</div>
  </div>
</header>

<main class="container">
  <div class="grid">
    <section class="news-col" id="news-pros">
      <h3>ALUMNI HEADLINES (PROS)</h3>
      <div id="newsProsMount">[Your headline feed mounts here]</div>
    </section>

    <section class="news-col" id="news-college">
      <h3>ALUMNI HEADLINES (COLLEGE)</h3>
      <div id="newsCollegeMount">[Your headline feed mounts here]</div>
    </section>

    <aside class="scores-col">
      <h3>WEEKLY LINE SCORES</h3>
      <div id="scoresMount">Loading...</div>
    </aside>
  </div>
</main>

<script>
const STATS_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQcWJM6Q6hTdFnES_G5LUy4teCS-sJ5HdAc9F5HSY8DGE9egdGy8yUAe2ShT3tFm-CwUuCYeAYy_YiW/pub?gid=2028135390&output=csv";

async function loadStats() {
  try {
    const res = await fetch(STATS_CSV_URL);
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const text = await res.text();
    const rows = text.trim().split(/\r?\n/).map(r => r.split(","));

    const dates = rows[0].slice(1); // First row = dates
    const players = rows.slice(1).map(r => ({ name: r[0], games: r.slice(1) }));

    renderScores(dates, players);
  } catch (err) {
    document.querySelector("#scoresMount").innerHTML =
      `<p class="error">Error loading stats: ${err.message}</p>`;
  }
}

function renderScores(dates, players) {
  const container = document.querySelector("#scoresMount");
  container.innerHTML = "";

  const weekBlock = document.createElement("div");
  weekBlock.className = "linescore-week";
  weekBlock.innerHTML = `<h4>WEEK of ${dates[0]} - ${dates[dates.length-1]}</h4>`;

  players.forEach(p => {
    let html = `<div class="linescore-player"><strong>${p.name}</strong>`;
    p.games.forEach((cell, i) => {
      if (cell && cell.trim()) {
        html += `<div>${dates[i]} — ${cell}</div>`;
      }
    });
    html += `</div>`;
    weekBlock.innerHTML += html;
  });

  container.appendChild(weekBlock);
}

document.addEventListener("DOMContentLoaded", loadStats);
</script>

</body>
</html>