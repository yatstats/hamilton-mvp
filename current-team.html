<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Active Alumni News • Hamilton YATSTATS</title>

<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400&family=Bebas+Neue&display=swap" rel="stylesheet">

<style>
/* -------- Theme & base -------- */
:root{
  --bg:#0c0c0c; --fg:#f2f2f2; --muted:#c4c4c4; --ink:#e8e8e8; --line:rgba(255,255,255,.08);
  --card-bg:#171717; --header-bg:#000; --drawer-bg:rgba(10,10,10,.65);
  --hamSmall:13px; --hamBig:20px; --hamBigger:24px; --tagGrey:#cfd2d6;
  --crestH:clamp(28px,4.2vw,42px);
  --containerPad:16px; --footerH:clamp(56px,8vh,77px);
}
*{box-sizing:border-box}
html,body{margin:0}
body{background:var(--bg);color:var(--fg);font-family:Oswald,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
a{color:inherit;text-decoration:none}
.container{max-width:1400px;margin:0 auto;padding:0 var(--containerPad)}

/* -------- Header -------- */
.header{position:sticky;top:0;z-index:50;background:var(--header-bg)}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 0}
.left-icons{display:flex;align-items:center;gap:8px}
.icon-btn{background:none;border:none;color:var(--fg);opacity:.92;display:inline-flex;align-items:center;justify-content:center;padding:0;margin:0 2px;cursor:pointer}
.icon-btn i{font-size:20px}
.topnav{display:flex;gap:18px;align-items:center}
.nav-pair{white-space:nowrap}
.nav-pair .thin{font:300 var(--hamSmall) Oswald;letter-spacing:.02em;color:#cfd2d6;margin-right:2px}
.nav-pair .bold{font:400 var(--hamSmall) "Bebas Neue",Indigo,sans-serif}
.wordmark-wrap{display:flex;align-items:center;justify-content:flex-end;min-width:120px}
.wordmark-img{height:clamp(18px,3.2vw,28px)}
.hr-y{border-top:1px solid var(--line)}
.schoolrow{display:flex;align-items:center;gap:10px;padding:6px var(--containerPad)}
.ham-logo{height:var(--crestH)}
.schooltext .small{font:300 var(--hamSmall) Oswald;color:var(--muted)}
.schooltext .big1{font:400 var(--hamBig) "Bebas Neue"}
.schooltext .big2{font:400 var(--hamBigger) "Bebas Neue";margin-top:-4px}
.crumbs{font:300 calc(var(--hamSmall)*.5) Oswald;color:var(--muted);text-transform:uppercase}
.hero{padding:2px 0}
.hero-grid{display:flex;align-items:center;justify-content:space-between;gap:16px}
.hero-right{display:flex;gap:10px}

/* -------- Main grid (3A→3B→2A→2B) -------- */
.main{padding:8px 0 calc(var(--footerH) + 12px)}
.newsgrid{display:grid;grid-template-columns:1fr clamp(140px,30vw,320px);gap:16px;align-items:start}

/* News cards */
.news-feed{display:flex;flex-direction:column;gap:12px}
.news-card{position:relative;background:var(--card-bg);border:1px solid var(--line);border-radius:12px;overflow:hidden;display:flex;gap:12px;align-items:flex-start;padding:10px}
.news-thumb{flex-shrink:0;width:120px;aspect-ratio:5/7;background:#000 center/cover no-repeat;border-radius:8px}
.news-body{flex:1}
.news-title{display:block;font:400 22px/1.05 "Bebas Neue"}
.news-meta{font:300 12px/1.2 Oswald;color:var(--muted);margin-top:6px}
.news-links{display:flex;gap:12px;margin-top:4px}
.news-readmore,.news-market{font:400 13px/1.1 "Bebas Neue";letter-spacing:.03em}
.news-share{display:flex;gap:10px;justify-content:flex-end;margin-top:8px}
.news-share .icon-btn{opacity:.85}
.news-share .icon-btn:hover{opacity:1}

/* Overlay mode (A) */
.overlay-mode .news-card{display:block;padding:0}
.overlay-mode .news-thumb{width:100%;border-radius:0}
.overlay-mode .news-body{
  position:absolute;left:0;right:0;bottom:0;padding:10px 12px;
  background:linear-gradient(180deg,rgba(0,0,0,0) 0%, rgba(0,0,0,.4) 50%, rgba(0,0,0,.85) 100%);
}
.overlay-mode .news-title{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.6)}
.overlay-mode .news-meta{color:#e5e7eb}

/* Scores column */
.scores-col{position:relative}
.scores-sticky{position:sticky;top:140px;max-height:calc(100vh - 140px - var(--footerH) - 12px);overflow:auto;border:1px solid var(--line);border-radius:12px;background:var(--card-bg);padding:10px}
.week-block{padding:8px 6px 10px;border-bottom:1px solid var(--line)}
.week-title{font:700 12px "Bebas Neue";opacity:.9;margin:4px 2px 8px}
.player-block{margin:8px 0 10px}
.player-name{font:700 12px "Bebas Neue";margin:3px 2px 6px}
.games-list{list-style:none;margin:0;padding:0}
.games-list li{padding:6px 8px;border-left:2px solid transparent}
.games-list li.final{border-color:#86efac4d}
.games-list li.inprogress{border-color:#fde0474d}
.games-list li.scheduled{border-color:#93c5fd4d}
.games-list li.dnp{border-color:#e5e7eb33;opacity:.85}
.games-line{font:300 10px Oswald}
.games-line .date{opacity:.9;margin-right:4px}

/* BP1: ≤600px → 2 columns (mobile) */
@media (max-width: 600px){
  .newsgrid{
    grid-template-columns: 1fr clamp(130px, 36vw, 260px);
  }
}

/* BP2: 601–899px → 2 columns (small tablets) */
@media (min-width:601px) and (max-width:899px){
  .newsgrid{
    grid-template-columns: 1fr clamp(160px, 30vw, 300px);
  }
}

/* BP3: 900–1279px → 3 columns (laptops) */
@media (min-width:900px) and (max-width:1279px){
  .newsgrid{
    grid-template-columns: 1fr 1fr clamp(200px, 26vw, 320px);
  }
}

/* BP4: ≥1280px → 3 columns (wide desktop) */
@media (min-width:1280px){
  .newsgrid{
    grid-template-columns: 1fr 1fr clamp(240px, 24vw, 360px);
  }
}
@media (min-width:601px) and (max-width:899px){ /* 2B: side cards + sticky scores right */
  .newsgrid{grid-template-columns:1fr clamp(160px,30vw,300px)}
  .scores-sticky{font-size:clamp(10px,1.6vw,12px)}
  .news-root.overlay-mode .news-card{display:flex;padding:10px}
  .news-root.overlay-mode .news-thumb{width:120px;border-radius:8px}
  .news-root.overlay-mode .news-body{position:static;background:none;padding:0}
}
@media (min-width:900px) and (max-width:1279px){ /* 3A: overlay cards in two cols + scores */
  .newsgrid{grid-template-columns:1fr 1fr clamp(200px,26vw,320px)}
  #col-pro{grid-column:1} #col-college{grid-column:2} .scores-col{grid-column:3}
  .news-root.overlay-mode .news-card{display:block;padding:0}
  .news-root.overlay-mode .news-thumb{width:100%;border-radius:0}
  .news-root.overlay-mode .news-body{
    position:absolute;left:0;right:0;bottom:0;padding:10px 12px;
    background:linear-gradient(180deg,rgba(0,0,0,0) 0%, rgba(0,0,0,.4) 50%, rgba(0,0,0,.85) 100%);
  }
}
@media (min-width:1280px){ /* 3B: side cards in two cols + scores */
  .newsgrid{grid-template-columns:1fr 1fr clamp(240px,24vw,360px)}
  #col-pro{grid-column:1} #col-college{grid-column:2} .scores-col{grid-column:3}
  .news-root.overlay-mode .news-card{display:flex;padding:10px}
  .news-root.overlay-mode .news-thumb{width:120px;border-radius:8px}
  .news-root.overlay-mode .news-body{position:static;background:none;padding:0}
}

/* Footer */
.site-footer{position:fixed;left:0;right:0;bottom:0;height:var(--footerH);background:var(--bg);border-top:1px solid var(--line);z-index:40}
.site-footer a{display:block;height:100%;width:100%}
.site-footer img{height:100%;width:100%;object-fit:contain}
</style>
</head>

<body>
<header class="header">
  <div class="container topbar">
    <div class="left-icons">
      <button class="icon-btn" id="btnMenu" aria-label="Menu"><i class="ri-menu-line"></i></button>
      <button class="icon-btn" id="theme-toggle" aria-label="Toggle Theme"><i class="ri-sun-line"></i></button>
    </div>
    <nav class="topnav" aria-label="Top Navigation">
      <a href="index.html" class="nav-pair"><span class="thin">WHERE THEY</span><span class="bold">YAT?</span></a>
      <a href="alumni-news.html" class="nav-pair"><span class="thin">ACTIVE ALUMNI</span><span class="bold">NEWS</span></a>
      <a href="all-time-list.html" class="nav-pair"><span class="thin">NEXT-LEVEL</span><span class="bold">ALL-TIME LIST</span></a>
      <a href="marketplace.html" class="nav-pair"><span class="thin">NIL & YAT-A-BOY</span><span class="bold">MARKETPLACE</span></a>
      <a href="current-team.html" class="nav-pair"><span class="thin">THE</span><span class="bold">CURRENT TEAM</span></a>
      <a href="partner-program.html" class="nav-pair"><span class="thin">PCD ACTION</span><span class="bold">PARTNER PROGRAM</span></a>
      <a href="faq.html" class="nav-pair"><span class="bold">FAQ’S</span></a>
    </nav>
    <div class="wordmark-wrap">
      <img class="wordmark-img" src="assets/img/yatstats-logo.png" alt="YAT?STATS">
    </div>
  </div>
  <div class="hr-y"></div>
  <div class="container schoolrow">
    <img class="ham-logo" src="assets/img/hamilton-logo.png" alt="Hamilton H">
    <div class="schooltext">
      <div class="small">CHANDLER, AZ</div>
      <div class="big1">HAMILTON HIGH SCHOOL</div>
      <div class="big2">ACTIVE BASEBALL ALUMNI</div>
    </div>
  </div>
  <div class="hr-y"></div>
  <section class="hero">
    <div class="container hero-grid">
      <div class="hero-left"><div class="crumbs">HAMILTON ▸ ACTIVE ALUMNI NEWS</div></div>
      <div class="hero-right">
        <button id="openSearch" class="icon-btn" aria-label="Search"><i class="ri-search-line"></i></button>
        <button id="openFilters" class="icon-btn" aria-label="Filters"><i class="ri-filter-3-line"></i></button>
        <button id="filtersReset2" class="icon-btn" aria-label="Reset"><i class="ri-restart-line"></i></button>
      </div>
    </div>
  </section>
</header>

<main class="main container">
  <div class="newsgrid" aria-live="polite">
    <div class="news-wrap">
      <section id="col-pro" class="news-col news-root overlay-mode">
        <h3>ALUMNI HEADLINES (Live — Pros & MiLB)</h3>
        <div id="proFeed" class="news-feed"><p style="color:var(--muted)">Fetching live headlines…</p></div>
      </section>
      <section id="col-college" class="news-col news-root overlay-mode">
        <h3>ALUMNI HEADLINES (Live — College & Amateur)</h3>
        <div id="collegeFeed" class="news-feed"><p style="color:var(--muted)">Fetching live headlines…</p></div>
      </section>
    </div>

    <aside class="scores-col">
      <h3>WEEKLY LINE SCORES</h3>
      <div id="scoresMount" class="scores-sticky">
        <p style="color:var(--muted)">Connect your linescores.json later — this demo focuses on the live headlines fetch.</p>
      </div>
    </aside>
  </div>
</main>

<footer class="site-footer">
  <a href="marketplace.html" aria-label="YAT-A-BOY Marketplace">
    <img src="assets/img/footer-banner.png" alt="Visit the YAT-A-BOY Marketplace">
  </a>
</footer>

<script>
/* ---------------- Live Google News RSS (no API) via AllOrigins ---------------

How it works:
- Build a Google News RSS URL for each player (query: "<name> baseball").
- Fetch it through https://api.allorigins.win/raw?url=... to avoid CORS.
- Parse the XML, take 2–3 items, map to our card format, and render.
- Pros/MiLB items go to #proFeed; College/Amateur to #collegeFeed.

Notes:
- This is a free, no-key approach suitable for a demo/prototype.
- If AllOrigins is ever down, replace the proxy with another free mirror
  (e.g. https://r.jina.ai/http://… or https://thingproxy.freeboard.io/fetch/…).
------------------------------------------------------------------------------ */

const PLAYERS_10 = [
  { name: "CODY BELLINGER",      level: "MLB",        img: "assets/img/now_players/cody_bellinger.jpg" },
  { name: "DOM HAMEL",           level: "AAA",        img: "assets/img/now_players/dom_hamel.jpg" },
  { name: "PATRICK MURPHY",      level: "INTERNATIONAL", img: "assets/img/now_players/patrick_murphy.jpg" },
  { name: "DREW SWIFT",          level: "AA",         img: "assets/img/now_players/drew_swift.jpg" },
  { name: "LOGAN BOYER",         level: "AAA",        img: "assets/img/now_players/logan_boyer.jpg" },
  { name: "BROCK SELVIDGE",      level: "AA",         img: "assets/img/now_players/brock_selvidge.jpg" },
  { name: "TYLER WILSON",        level: "AA",         img: "assets/img/now_players/tyler_wilson.jpg" },
  { name: "JOSH TIEDEMANN",      level: "NCAA-D1",    img: "assets/img/now_players/josh_tiedemann.jpg" },
  { name: "GAVIN TURLEY",        level: "NCAA-D1",    img: "assets/img/now_players/gavin_turley.jpg" },
  { name: "JUSTIN WYLIE",        level: "INDY",       img: "assets/img/now_players/justin_wylie.jpg" }
];

const PRO_LEVELS = new Set(["MLB","INTERNATIONAL","TRIPLE-A","AAA","DOUBLE-A","AA","HIGH-A","A+","LOW-A","A","ROOKIE","ROK","INDY"]);
const COLLEGE_LEVELS = new Set(["NCAA-D1","NCAA-D2","NCAA-D3","NAIA","JUCO"]);

const $ = s => document.querySelector(s);

function googleNewsRssUrl(playerName){
  // Tighten query a hair to reduce namesakes
  const q = encodeURIComponent(`"${playerName}" baseball`);
  return `https://news.google.com/rss/search?q=${q}&hl=en-US&gl=US&ceid=US:en`;
}
function proxied(url){
  return `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`;
}
async function fetchRss(player){
  const url = proxied(googleNewsRssUrl(player.name));
  const res = await fetch(url, {cache:"no-store"});
  if(!res.ok) throw new Error(`RSS ${res.status}`);
  const xml = await res.text();
  const doc = new DOMParser().parseFromString(xml, "application/xml");
  const items = [...doc.querySelectorAll("item")].slice(0,3).map(item=>{
    const title = item.querySelector("title")?.textContent || "Read more";
    const link  = item.querySelector("link")?.textContent || "#";
    const pub   = item.querySelector("pubDate")?.textContent || "";
    const source= item.querySelector("source")?.textContent || "News";
    return { title, url: link, source, publishedAt: pub, image: player.img, level: player.level, who: player.name };
  });
  return items;
}

function newsCardHTML(n){
  const img = n.image || "assets/img/news/placeholder.jpg";
  const when = n.publishedAt ? new Date(n.publishedAt).toLocaleString() : "";
  const shareText = encodeURIComponent(`We See Where YAT, ${n.who?.split(" ")[0]||"Husky"}! #YATABOY${n.who?.split(" ")[0]||""}`);
  const shareUrl = encodeURIComponent(n.url || location.href);
  const xHref = `https://twitter.com/intent/tweet?text=${shareText}&url=${shareUrl}`;
  const mailHref = `mailto:?subject=${encodeURIComponent(n.title)}&body=${shareText}%0A${shareUrl}`;

  return `
  <article class="news-card">
    <a class="news-thumb" href="${n.url}" target="_blank" rel="noopener" style="background-image:url('${img}')" aria-label="Open story"></a>
    <div class="news-body">
      <a class="news-title" href="${n.url}" target="_blank" rel="noopener">${n.title}</a>
      <div class="news-meta">${n.source} • ${when}</div>
      <div class="news-links">
        <a class="news-readmore" href="${n.url}" target="_blank" rel="noopener">READ MORE</a>
        <a class="news-market" href="marketplace.html">YAT-A-BOY MARKETPLACE</a>
      </div>
      <div class="news-share" aria-label="Share">
        <a class="icon-btn" href="${xHref}" target="_blank" rel="noopener" title="Share to X"><i class="ri-twitter-x-line"></i></a>
        <a class="icon-btn" href="https://www.instagram.com/" target="_blank" rel="noopener" title="Instagram"><i class="ri-instagram-line"></i></a>
        <a class="icon-btn" href="https://www.facebook.com/sharer/sharer.php?u=${shareUrl}" target="_blank" rel="noopener" title="Facebook"><i class="ri-facebook-circle-line"></i></a>
        <a class="icon-btn" href="https://www.tiktok.com/" target="_blank" rel="noopener" title="TikTok"><i class="ri-tiktok-line"></i></a>
        <a class="icon-btn" href="${mailHref}" title="Email"><i class="ri-mail-line"></i></a>
      </div>
    </div>
  </article>`;
}

async function loadNewsFor(players){
  const proFeed = $("#proFeed"), collegeFeed = $("#collegeFeed");
  proFeed.innerHTML = `<p style="color:var(--muted)">Loading…</p>`;
  collegeFeed.innerHTML = `<p style="color:var(--muted)">Loading…</p>`;

  const batches = await Promise.allSettled(players.map(p => fetchRss(p)));
  const items = batches.flatMap(r => r.status==="fulfilled" ? r.value : []);
  const pros = items.filter(n => PRO_LEVELS.has(n.level));
  const colleges = items.filter(n => COLLEGE_LEVELS.has(n.level));

  proFeed.innerHTML = pros.length ? pros.map(newsCardHTML).join("") : `<p style="color:var(--muted)">No pro headlines found right now.</p>`;
  collegeFeed.innerHTML = colleges.length ? colleges.map(newsCardHTML).join("") : `<p style="color:var(--muted)">No college headlines found right now.</p>`;
}

document.addEventListener("DOMContentLoaded", ()=>{
  loadNewsFor(PLAYERS_10);
});
</script>
</body>
</html>
