<!-- header.html -->
<link href="https://fonts.googleapis.com/css2?family=Anton:wght@400&family=Oswald:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
  :root{
    /* single source of truth for left/right padding so rows align */
    --edge-x: 14px;
    --header-top-h: 52px;   /* shorter */
    --header-brand-h: 76px; /* taller */
    --ring: #1f2530;

    /* set to "block" if you want the 3 utility icons ALSO inside the header (top-right) */
    --show-header-actions: none; /* none | block */
  }

  html,body{margin:0;background:#000}
  body{padding-top: calc(var(--header-top-h) + var(--header-brand-h));}

  .site-header{
    position:fixed; left:0; right:0; top:0; z-index:60;
    background:#000; color:#fff; border-bottom:1px solid var(--ring);
  }

  /* ROW 1 — icons left, YAT?STATS right */
  .row-top{
    height:var(--header-top-h);
    display:grid; grid-template-columns:1fr auto; align-items:center; gap:10px;
    padding:0 var(--edge-x);
  }
  .icons-left{display:flex; align-items:center; gap:8px}
  .btn{width:38px; height:38px; border:0; background:transparent; border-radius:10px; display:grid; place-items:center; cursor:pointer}
  .btn:hover{background:rgba(255,255,255,.08)}
  .btn svg{width:21px; height:21px; color:#fff}

  /* sleeker moon icon */
  .btn[data-role="theme"] svg path{ d:path("M21 12.8A9.8 9.8 0 1 1 11.2 3a7.8 7.8 0 0 0 9.8 9.8Z"); }

  .wordmark{height:34px; width:auto; justify-self:end}

  /* optional header actions (off by default) */
  .header-actions{ display:var(--show-header-actions); gap:6px; margin-left:10px }
  .header-actions .btn{ width:36px; height:36px }

  /* ROW 2 — Hamilton logo + 3 lines left only */
  .row-brand{
    height:var(--header-brand-h);
    border-top:1px solid var(--ring);
    display:flex; align-items:center; gap:8px;
    padding:0 var(--edge-x);
  }
  .h-logo{height:60px; width:auto}
  .h-type{display:flex; flex-direction:column; gap:2px}
  .h-l1{font:300 13px/1.1 "Oswald",system-ui; color:#cbd5e1; letter-spacing:.02em}
  .h-l2{font:600 18px/1 "Anton",system-ui; letter-spacing:.01em}
  .h-l3{font:700 20px/1 "Anton",system-ui}

  /* drawers (unchanged core) */
  .scrim{position:fixed; left:0; right:0; top:calc(var(--header-top-h) + var(--header-brand-h)); bottom:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:opacity .25s; z-index:55}
  .scrim.open{opacity:1; pointer-events:auto}
  body.no-scroll{overflow:hidden}
  .drawer{position:fixed; top:calc(var(--header-top-h) + var(--header-brand-h)); bottom:0; width:clamp(300px,75vw,520px); background:#0b0f16; z-index:56; display:flex; flex-direction:column; transform:translateX(-100%); border-right:1px solid #232a36}
  .drawer.right{left:auto; right:0; border-right:none; border-left:1px solid #232a36; transform:translateX(100%)}
  .drawer.open{transform:translateX(0)}
  .drawer-h{height:56px; border-bottom:1px solid #232a36; display:flex; align-items:center; justify-content:space-between; padding:0 12px; color:#d5d9df; font-weight:900; letter-spacing:.12em; text-transform:uppercase; font-size:12px}
  .drawer-body{padding:12px; overflow:auto}

  @media (max-width:640px){
    .wordmark{height:30px}
    .h-logo{height:50px}
    .h-l1{display:none} /* free up space on very small screens */
    .h-l2{font-size:16px}
    .h-l3{font-size:17px}
  }
</style>

<header class="site-header" role="banner" aria-label="Sticky site header">
  <div class="row-top">
    <div class="icons-left">
      <button class="btn" id="openLeft" aria-label="Open navigation">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
      </button>
      <button class="btn" id="iconProfile" aria-label="Account">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.2 0-8 2.1-8 5v1h16v-1c0-2.9-3.8-5-8-5z"/></svg>
      </button>
      <button class="btn" id="themeToggle" data-role="theme" aria-label="Toggle theme">
        <svg viewBox="0 0 24 24"><path fill="currentColor"/></svg>
      </button>
      <!-- (optional) show actions in header by setting --show-header-actions:block -->
      <div class="header-actions">
        <button class="btn" id="iconSearch" aria-label="Search">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg>
        </button>
        <button class="btn" id="iconFilter" aria-label="Filters">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18l-6.5 7.5V20l-5-2v-5.5L3 5z"/></svg>
        </button>
        <button class="btn" id="iconReset" aria-label="Reset">
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 5V2L8 6l4 4V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg>
        </button>
      </div>
    </div>

    <img class="wordmark" src="https://i.postimg.cc/C5mwXpQy/35878-20250830-222027-0000.png" alt="YAT?STATS">
  </div>

  <div class="row-brand">
    <img class="h-logo" src="https://i.postimg.cc/pVm0vHdX/hamilton-logo-tight-transparent-background.png" alt="Hamilton H">
    <div class="h-type">
      <div class="h-l1">CHANDLER, AZ</div>
      <div class="h-l2">HAMILTON HIGH SCHOOL</div>
      <div class="h-l3">ACTIVE ALUMNI</div>
    </div>
  </div>
</header>

<!-- scrim + drawers -->
<div class="scrim" id="scrim" hidden></div>

<aside class="drawer" id="drawerLeft" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Search">
  <div class="drawer-h">Search
    <button class="btn" id="closeLeft" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586z"/></svg></button>
  </div>
  <div class="drawer-body">
    <input id="localSearch" type="text" placeholder="Type a player name…" style="width:100%;background:#0e141f;border:1px solid #1b2330;border-radius:10px;padding:10px;color:#fff"/>
    <ul id="localResults" style="list-style:none;margin:10px 0 0;padding:0"></ul>
  </div>
</aside>

<aside class="drawer right" id="drawerRight" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Filters">
  <div class="drawer-h">Filters
    <button class="btn" id="closeRight" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586z"/></svg></button>
  </div>
  <div class="drawer-body" style="color:#cbd5e1">
    <label>Level</label>
    <select id="fltLevel" style="width:100%;background:#0e141f;border:1px solid #1b2330;border-radius:10px;padding:10px;color:#fff">
      <option value="">All</option>
      <option>MLB</option><option>TRIPLE-A</option><option>DOUBLE-A</option><option>NCAA-D1</option><option>KBO</option>
    </select>
    <label style="margin-top:12px">Grad Class</label>
    <select id="fltClass" style="width:100%;background:#0e141f;border:1px solid #1b2330;border-radius:10px;padding:10px;color:#fff">
      <option value="">All</option>
    </select>
    <button id="btnApply" style="margin-top:12px;background:#fff;color:#000;border:0;border-radius:10px;padding:10px 12px;cursor:pointer;font-weight:700">Apply</button>
  </div>
</aside>

<aside class="drawer right" id="drawerAuth" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Account">
  <div class="drawer-h">Sign Up | Login
    <button class="btn" id="closeAuth" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586z"/></svg></button>
  </div>
  <div class="drawer-body">
    <label>Email</label>
    <input type="email" placeholder="you@example.com" style="display:block;width:100%;background:#0e141f;border:1px solid #1b2330;border-radius:10px;padding:10px;color:#fff"/>
    <label style="margin-top:10px">Password</label>
    <input type="password" placeholder="••••••••" style="display:block;width:100%;background:#0e141f;border:1px solid #1b2330;border-radius:10px;padding:10px;color:#fff"/>
  </div>
</aside>

<script>
/* same wiring as before (open/close drawers etc.) */
(function(){
  const byId=id=>document.getElementById(id), scrim=byId('scrim'),
        L=byId('drawerLeft'), R=byId('drawerRight'), A=byId('drawerAuth');
  let lastFocus=null;
  function open(d){[L,R,A].forEach(x=>x.classList.remove('open'));lastFocus=document.activeElement;d.classList.add('open');scrim.classList.add('open');scrim.hidden=false;document.body.classList.add('no-scroll');}
  function close(d){d.classList.remove('open');if(!L.classList.contains('open')&&!R.classList.contains('open')&&!A.classList.contains('open')){scrim.classList.remove('open');scrim.hidden=true;document.body.classList.remove('no-scroll');}}
  function closeAll(){[L,R,A].forEach(x=>x.classList.remove('open'));scrim.classList.remove('open');scrim.hidden=true;document.body.classList.remove('no-scroll');lastFocus?.focus?.();}

  byId('openLeft')?.addEventListener('click',()=>open(L));
  byId('closeLeft')?.addEventListener('click',()=>close(L));
  byId('closeRight')?.addEventListener('click',()=>close(R));
  byId('closeAuth')?.addEventListener('click',()=>close(A));
  byId('iconProfile')?.addEventListener('click',()=>open(A));
  scrim?.addEventListener('click',closeAll);

  // Delegate hero-row buttons (from index/profile)
  document.addEventListener('click',e=>{
    const t=e.target.closest('#iconSearch,#iconFilter,#iconReset'); if(!t) return;
    if(t.id==='iconSearch') open(L);
    if(t.id==='iconFilter') open(R);
    if(t.id==='iconReset') window.YAT?.resetAll?.();
  });

  // Theme
  (function(){
    const k='theme', get=()=>localStorage.getItem(k)||'dark',
          set=t=>{document.documentElement.setAttribute('data-theme',t);localStorage.setItem(k,t);};
    set(get()); byId('themeToggle')?.addEventListener('click',()=>set(get()==='dark'?'light':'dark'));
  })();

  // Search suggestions from loaded players
  const input=byId('localSearch'), list=byId('localResults');
  input?.addEventListener('input', e=>{
    const q=e.target.value.toLowerCase(); list.innerHTML='';
    if(!q) return;
    (window.YAT?.players||[]).filter(p=>(p.name||'').toLowerCase().includes(q)).slice(0,50).forEach(p=>{
      const li=document.createElement('li'); li.textContent=`${p.name}${p.graduatingClass?` (Class of ${p.graduatingClass})`:''}`;
      li.style.cssText='padding:8px 6px;border-radius:8px;cursor:pointer';
      li.addEventListener('click',()=>{location.href=`profile.html?id=${encodeURIComponent(p.id)}`;closeAll();});
      list.appendChild(li);
    });
  });

  // Filters Apply
  document.getElementById('btnApply')?.addEventListener('click',()=>{
    const lvl=document.getElementById('fltLevel')?.value||'';
    const cls=document.getElementById('fltClass')?.value||'';
    window.YAT?.applyFilters?.({level:lvl,class:cls});
    close(R);
  });
})();
</script>