<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cards • Hamilton</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Header (same as shared header markup) -->

  <main id="cardsGrid" class="cards-grid"></main>

  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script>
  (function(){
    const CSV_URL="https://docs.google.com/spreadsheets/d/e/2PACX-1vSB4q8nvjYfftVeWKkFNz42uDDWSuDXikimMa-a25WQk_XX-imZbiUd8q5Cj94rjZJjaabw5DGMvJFd/pub?gid=82179728&single=true&output=csv";
    const grid=document.getElementById('cardsGrid');

    Papa.parse(CSV_URL,{
      download:true,header:true,skipEmptyLines:true,
      complete:res=>{
        const players=res.data.filter(r=>r.tbc_id||r.slug||r.display_name);
        grid.innerHTML=players.map(p=>`
          <article class="card">
            <img src="${p.front_img||''}" alt="${p.display_name||''}">
            <div class="bottom-grad"></div>
            <div class="front-left">
              <div class="name">${p.display_name||''}</div>
              <div class="team">${p.team||''}</div>
              <div class="parent">${(p.level||'').toUpperCase()}</div>
            </div>
            <div class="front-right">
              <span class="chip">${(p.status||'').toUpperCase()}</span>
            </div>
          </article>
        `).join('');
      },
      error:e=>{ grid.innerHTML="<div>Couldn’t load CSV.</div>"; console.error(e); }
    });
  })();
  </script>
</body>
</html>