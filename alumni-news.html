<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Line Scores Module</title>
  <style>
    body { font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:#111; margin:1rem; background:#fafafa; }
    .week { margin-bottom:2rem; }
    .week h2 { margin:0 0 1rem; font-size:1.25rem; border-bottom:2px solid #333; padding-bottom:.25rem; }
    .player { margin-bottom:1rem; }
    .player h3 { margin:.5rem 0; font-size:1.1rem; color:#7A0019; }
    .game { margin-left:1rem; font-size:0.95rem; }
    .suffix { font-weight:bold; }
  </style>
</head>
<body>
  <div id="lineScores"></div>

  <script>
    // --- Mock Data (replace later with your Google Sheet script) ---
    const mockGames = [
      { week: "Week of September 21-27", player: "CODY BELLINGER", date:"9/21", opp:"@ BAL", status:"Final", stats:"2-3 | 2HR, 6RBI, K, SB" },
      { week: "Week of September 21-27", player: "CODY BELLINGER", date:"9/23", opp:"vs. CWS", status:"In Progress" },
      { week: "Week of September 21-27", player: "CODY BELLINGER", date:"9/24", opp:"vs. CWS", status:"Scheduled", time:"4:05PM" },
      { week: "Week of September 21-27", player: "CODY BELLINGER", date:"9/25", opp:"vs. CWS", status:"Scheduled", time:"4:05PM" },
      { week: "Week of September 21-27", player: "DREW SWIFT", date:"9/21", opp:"@ SAL", status:"Final", stats:null }, // no stats → DNP
      { week: "Week of September 21-27", player: "DREW SWIFT", date:"9/23", opp:"vs. CWS", status:"In Progress" },
      { week: "Week of September 21-27", player: "DREW SWIFT", date:"9/24", opp:"vs. CWS", status:"Scheduled", time:"4:05PM" }
    ];

    // --- Render Function ---
    function renderLineScores(data) {
      const container = document.getElementById("lineScores");
      container.innerHTML = "";

      // Group by week → then by player
      const weeks = {};
      data.forEach(g=>{
        if(!weeks[g.week]) weeks[g.week] = {};
        if(!weeks[g.week][g.player]) weeks[g.week][g.player] = [];
        weeks[g.week][g.player].push(g);
      });

      for(const [week, players] of Object.entries(weeks)){
        const weekDiv = document.createElement("div");
        weekDiv.className = "week";
        weekDiv.innerHTML = `<h2>${week}</h2>`;
        
        for(const [player, games] of Object.entries(players)){
          const playerDiv = document.createElement("div");
          playerDiv.className = "player";
          playerDiv.innerHTML = `<h3>${player}</h3>`;
          
          games.forEach(game=>{
            let suffix="";
            if(game.status==="Final"){
              suffix = game.stats ? game.stats : "DNP";
            } else if(game.status==="In Progress"){
              suffix = "GAME IN PROGRESS";
            } else if(game.status==="Scheduled"){
              suffix = game.time;
            }
            const gameDiv = document.createElement("div");
            gameDiv.className = "game";
            gameDiv.innerHTML = `${game.date} – ${game.opp} <span class="suffix">| ${suffix}</span>`;
            playerDiv.appendChild(gameDiv);
          });
          weekDiv.appendChild(playerDiv);
        }
        container.appendChild(weekDiv);
      }
    }

    renderLineScores(mockGames);
  </script>
</body>
</html>