<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hamilton.yatstats.com — WHERE THEY YAT? (v4.2.0)</title>

<style>
/* Import Google Font */
@import url('https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700,900&family=Roboto:wght@400;700&display=swap');

:root{
  --maroon:#7A0019; --ring:#E3E6EA; --bg:#eef0f2; --ink:#111827; --muted:#6b7280;
  --headerH:100px;
  --font-body: 'Roboto', system-ui, -apple-system, Segoe UI, Helvetica, Arial, sans-serif;
  --font-display: 'Roboto Condensed', sans-serif;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{background:var(--bg);font:15px/1.45 var(--font-body);color:var(--ink); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;}
a{text-decoration:none;color:inherit}
button{font:inherit;color:inherit}

/* HEADER */
.site-header{position:fixed; inset:0 0 auto 0; height:var(--headerH); z-index:60; background:#fff; border-bottom:1px solid var(--ring); display:grid; grid-template-columns:auto 1fr auto; gap:8px; align-items:start; padding:8px 8px 6px;}
.h-left{display:flex;align-items:center;gap:8px;min-width:0}
.hambtn{width:36px;height:36px;border:0;background:transparent;display:grid;place-items:center;cursor:pointer}
.ham-logo{height:42px;width:auto;display:block}
.nav-desktop{display:flex;gap:14px;align-self:center;justify-self:center}
.nav-desktop a{font-size:12px;text-transform:uppercase;color:#1f2937;white-space:nowrap;padding:4px 0;letter-spacing:.06em}
@media (max-width:1260px){ .nav-desktop{display:none} }
.h-right{display:flex;flex-direction:column;align-items:flex-end;gap:6px;min-width:0}
.ystats-logo{height:36px;width:auto;display:block}
@media (max-width:420px){ .ystats-logo{height:32px} }
.hdr-icons{display:flex;gap:8px;align-items:center;justify-content:flex-end}
.hdr-icon{width:44px;height:44px;padding:0;border:0;background:transparent;border-radius:8px;display:grid;place-items:center;cursor:pointer;transition: background-color 0.2s ease;}
.hdr-icon svg{width:20px;height:20px;color:#111}
.hdr-icon:hover{background:rgba(0,0,0,.06)}
.hdr-icon:focus-visible{outline:2px solid #111;outline-offset:2px;border-radius:8px}
.hdr-icon.active{background:#111}
.hdr-icon.active svg{color:#fff}

/* TAGLINE */
.tagline-wrap{position:sticky;top:var(--headerH);z-index:40;background:#fff;border-bottom:1px solid var(--ring)}
.tagline{display:flex;align-items:center;justify-content:space-between;padding:8px 10px}
.tag-text{font-size:14px;line-height:1.1}
.tag-grey{color:#6b7280;font-weight:700;letter-spacing:-.02em}
.tag-strong{color:#000;font-weight:900;letter-spacing:-.02em}
.tag-tight{letter-spacing:-.04em;}
.tag-grey,.tag-strong{font-stretch:condensed; font-variation-settings:"wdth" 85}
.tag-strong, .name, .stats-name, .kv .v, .right-line, .next-chip, .last-chip, .stats-tab { font-family: var(--font-display); }

/* GRID */
main{padding:calc(var(--headerH) + 44px) 0 84px}
.grid{padding:10px;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:12px}
@media (min-width:560px){ .grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
@media (min-width:820px){ .grid{grid-template-columns:repeat(3,minmax(0,1fr))} }
@media (min-width:1100px){ .grid{grid-template-columns:repeat(4,minmax(0,1fr))} }
@media (min-width:1440px){ .grid{grid-template-columns:repeat(5,minmax(0,1fr))} }

/* CARD / FLIP */
.card{background:#fff; border:1px solid var(--ring); border-radius:12px; overflow:hidden; position:relative; user-select:none; aspect-ratio:5/7; min-height:280px; box-shadow:0 4px 12px rgba(0,0,0,0.08); transition:transform 0.2s ease-out, box-shadow 0.2s ease-out;}
.card:hover{transform:translateY(-4px) scale(1.02); box-shadow:0 8px 20px rgba(0,0,0,0.12);}
.flip-card{perspective:1200px}
.flip-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .55s cubic-bezier(.2,.7,.2,1)}
.card.front  .flip-inner{ transform:rotateY(0) }
.card.back   .flip-inner{ transform:rotateY(180deg) }
.face{position:absolute; inset:0; backface-visibility:hidden; -webkit-backface-visibility:hidden; overflow:hidden}

/* FRONT */
.front-face{transform:rotateY(0); background-color: #111;}
.card-img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover;}
.bottom-grad{position:absolute; left:0; right:0; bottom:0; height:66%; background:linear-gradient(to top, rgba(0,0,0,.98) 0%, rgba(0,0,0,.92) 30%, rgba(0,0,0,.86) 48%, rgba(0,0,0,0) 76%); pointer-events:none; z-index:1;}
.front-left, .front-right{position:absolute; z-index:3; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.45)}
.front-left{left:12px; bottom:12px; width:46%}
.front-right{right:12px; bottom:10px; width:72%; text-align:right}
.name{font-weight:900;text-transform:uppercase;letter-spacing:.02em;font-size:18px;line-height:1.06}
.team{font-size:13px;opacity:.98}
.parent{font-size:12px;opacity:.92;margin-top:2px}
.spacer-6{height:6px}
.stack{display:flex;flex-direction:column;gap:4px;margin-top:4px;align-items:flex-start}
.chip{display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,.14);color:#fff;border:1px solid rgba(255,255,255,.24);border-radius:999px;padding:2px 8px 3px;font-weight:800;font-size:10px;letter-spacing:.06em}
.chip.level.mlb{background:#7A0019;border-color:#7A0019}
.chip.level.kbo{background:#0d9488;border-color:#0d9488}
.chip.level.triple-a{background:#2563eb;border-color:#2563eb}
.chip.level.double-a{background:#3b82f6;border-color:#3b82f6}
.chip.level.high-a, .chip.level.a_{background:#4338ca;border-color:#4338ca}
.chip.level.low-a, .chip.level.a{background:#3730a3;border-color:#3730a3}
.chip.level.rookie{background:#0f766e;border-color:#0f766e}
.chip.level.indy{background:#3f6212;border-color:#3f6212}
.chip.level.ncaa, .chip.level.ncaa-d1{background:#166534;border-color:#166534}
.chip.level.ncaa-d2{background:#047857;border-color:#047857}
.chip.level.ncaa-d3{background:#065f46;border-color:#065f46}
.chip.level.naia{background:#9333ea;border-color:#9333ea}
.chip.level.juco, .chip.level.jrcollege{background:#0d9488;border-color:#0d9488}
.chip.status{background:#16a34a;border-color:#16a34a}
.chip.status.retired, .chip.status.coach{background:#6b7280;border-color:#6b7280}
.chip.class{background:#374151;border-color:#374151}
.letters{display:flex;gap:6px;align-items:center;margin-top:6px}
.letter-dot{width:20px;height:20px;border-radius:50%;background:#fff;color:var(--maroon);display:grid;place-items:center;font-weight:900;font-size:11px;border:1px solid rgba(0,0,0,.15)}
.next-chip,.last-chip{display:inline-block;background:rgba(255,255,255,.14);color:#fff;border:1px solid rgba(255,255,255,.24);border-radius:999px;padding:2px 8px 3px;font-size:10px;font-weight:900;letter-spacing:.12em;margin-bottom:3px}
.right-line{font-size:12px;font-weight:800;letter-spacing:-.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.last3{margin-top:10px;width:100%;margin-left:auto}
.last3 .item{font-size:12px;color:#e5e7eb;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right}

/* --- BACK OF CARD RE-DESIGN --- */
.back-face{transform:rotateY(180deg);background:#fff;color:#111;display:flex;flex-direction:column;height:100%}

/* BACK TOP SECTION */
.back-top-area{display:grid;grid-template-columns:1fr 1fr;gap:10px;padding:10px 12px 6px;}
.back-top-left{min-width:0;display:flex;flex-direction:column;justify-content:space-between;}
.stats-name{font-weight:900;text-transform:uppercase;letter-spacing:.02em;font-size:16px;margin-bottom:2px}
.team-line{color:#1f2937;font-size:13px;line-height:1.15;margin-top:2px}
.parent-line{color:#6b7280;font-size:12px;line-height:1.1;margin-top:2px}
.action-chip{display:inline-block;width:100%;text-align:center;padding:6px 10px;border-radius:999px;border:1px solid #111;background:#111;color:#fff;font-weight:900;font-size:10px;letter-spacing:.12em;cursor:pointer;user-select:none;margin-top:6px;}
.action-chip.ghost{background:#fff;color:#111;border-color:#1f2937}
.back-top-right{display:flex;flex-direction:column;position:relative;overflow:hidden;border-radius:8px;background:#d1d5db;}
.hs-box-img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}

/* FUN ZONE (BOTTOM HALF) */
.fun-zone{flex:1;min-height:0;display:flex;flex-direction:column;position:relative;margin-top:6px;}
.stats-tab{background:#fff;border:1px solid var(--ring);border-bottom:none;padding:6px 14px;font-size:11px;font-weight:900;letter-spacing:0.1em;text-transform:uppercase;border-radius:8px 8px 0 0;position:absolute;top:-1px;left:10px;z-index:2;transform:translateY(-100%);}
.fun-zone-window{flex:1;min-height:0;border-top:1px solid var(--ring);overflow:hidden;position:relative;}
.pane-container{display:flex;width:800%;height:100%;transition:transform .3s ease-in-out;}
.pane{width:12.5%;height:100%;overflow:auto;padding:12px;animation:fade-in .3s ease}
@keyframes fade-in{from{opacity:0}to{opacity:1}}
.kv-wrap12{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:minmax(38px,1fr);gap:8px;height:100%}
.kv{background:#f3f4f6;border-radius:10px;text-align:center;padding:4px;display:flex;flex-direction:column;justify-content:center}
.kv .k{font-size:10px;color:#6b7280;text-transform:uppercase;}
.kv .v{font-weight:800;font-size:14px;}

/* BOTTOM ICON BAR */
.back-icon-bar{display:grid;grid-template-columns:repeat(8,1fr);gap:4px;padding:6px;border-top:1px solid var(--ring);}
.icon-btn{border:0;background:transparent;border-radius:6px;height:36px;display:grid;place-items:center;cursor:pointer;transition:background .2s ease;}
.icon-btn svg{width:18px;height:18px;color:#374151;}
.icon-btn:hover{background:#f3f4f6;}
.icon-btn.active{background:#111;}
.icon-btn.active svg{color:#fff;}

/* STORY PANE STYLES */
.story-list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 12px; }
.story-item a { display: block; text-decoration: none; background: #f3f4f6; border-radius: 8px; padding: 8px 10px; transition: background .2s ease; }
.story-item a:hover { background: #e5e7eb; }
.story-item .story-headline { font-weight: 700; color: #111827; font-size: 13px; line-height: 1.3; }
.story-item .story-meta { font-size: 11px; color: #6b7280; margin-top: 2px; }
.pane-placeholder { color: #9ca3af; text-align: center; font-size: 13px; padding-top: 20px; }

/* FLIP ZONES */
.hit{position:absolute;top:0;bottom:0;width:22%;z-index:2;background:transparent;border:0}
@media (max-width:480px){ .hit{width:26%} }
.hit.left{left:0}.hit.right{right:0}

/* DRAWERS */
.scrim{position:fixed;left:0;right:0;top:var(--headerH);bottom:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:55}
.scrim.open{opacity:1;pointer-events:auto}
body.no-scroll{overflow:hidden}
.drawer-left{position:fixed;top:var(--headerH);bottom:0;left:0;width:360px;max-width:90vw;background:#fff;border-right:1px solid var(--ring);transform:translateX(-100%);transition:transform .25s ease;z-index:56;display:flex;flex-direction:column}
.drawer-left.open{transform:translateX(0)}
.drawer-left .drawer-header{height:56px;border-bottom:1px solid var(--ring);display:flex;align-items:center;justify-content:space-between;padding:0 12px}
.left-title{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#374151}
.left-content{padding:12px;min-height:0;overflow:auto}
.nav-left-list{display:flex;flex-direction:column;gap:12px;margin-bottom:10px}
.nav-left-link{text-decoration:none;color:#2b2b2b;text-transform:uppercase;letter-spacing:.12em;font-weight:400;font-size:13px;line-height:1;padding:10px 6px 8px 4px;border-radius:6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.nav-left-link:hover{background:#f5f6f8}
.nav-left-sep{height:1px;background:#eceff3;margin:8px 0}
.left-search-h{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#374151;margin:2px 0 8px}
.left-search .ghost{display:block;width:100%;background:#eef1f5;border:1px solid #d7dce2;border-radius:10px;padding:10px 12px;font-size:14px;outline:none}
.left-results{margin-top:8px;list-style:none;padding:0}
.left-results li{padding:8px 6px;border-radius:8px;cursor:pointer}
.left-results li:hover{background:#f5f6f8}
.global-line{margin-top:12px;font-size:12px;color:#374151;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.global-line .mini-icon{width:14px;height:14px;color:#111}
.drawer-right{position:fixed;top:var(--headerH);bottom:0;right:0;width:420px;max-width:92vw;background:#fff;border-left:1px solid var(--ring);transform:translateX(100%);transition:transform .25s ease;z-index:56;display:flex;flex-direction:column}
.drawer-right.open{transform:translateX(0)}
.drawer-right .drawer-header{height:56px;border-bottom:1px solid var(--ring);display:flex;align-items:center;justify-content:space-between;padding:0 12px}
.right-title{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#374151}
.drawer-body{min-height:0;overflow:auto}
.drawer-content{display:block;padding:12px 12px 22px}
.rail{border:1px solid #e5e7eb;border-radius:10px;margin-bottom:10px;overflow:hidden}
.rail summary{list-style:none;cursor:pointer;padding:9px 12px;font-weight:800;letter-spacing:.14em;text-transform:uppercase;font-size:12px;color:#374151;border-bottom:1px solid #e5e7eb}
.rail summary::-webkit-details-marker{display:none}
.rail .inner{padding:8px 10px;max-height:40vh;overflow:auto}
.ghost{display:block;width:100%;background:#eef1f5;border:1px solid #d7dce2;border-radius:8px;padding:10px;font-size:13px;color:#111;outline:none}
.select-multi{height:110px}
.hint{color:#9aa1ab;font-size:11px;margin:4px 2px 10px}
@media (max-width:800px){ .hint{display:none} }
@media (min-width:1024px){ .drawer-right{width:300px;max-width:24vw} }
.drawer-auth{position:fixed;top:var(--headerH);bottom:0;right:0;width:420px;max-width:92vw;background:#fff;border-left:1px solid var(--ring);transform:translateX(100%);transition:transform .25s ease;z-index:56;display:flex;flex-direction:column}
.drawer-auth.open{transform:translateX(0)}
.drawer-auth .drawer-header{height:56px;border-bottom:1px solid var(--ring);display:flex;align-items:center;justify-content:space-between;padding:0 12px}
.auth-title{font-weight:900;letter-spacing:.12em;text-transform:uppercase;font-size:12px;color:#374151}
.auth-body{min-height:0;overflow:auto;padding:12px 12px 22px}
.input{display:block;width:100%;background:#eef1f5;border:1px solid #d7dce2;border-radius:10px;padding:12px 12px;font-size:14px;color:#111;outline:none}
.btn-primary{display:inline-block;width:100%;background:#111;color:#fff;border:1px solid #111;border-radius:10px;padding:10px 12px;font-weight:800;letter-spacing:.06em;cursor:pointer;margin-top:10px}
.closebtn{width:34px;height:34px;border:0;background:transparent;display:grid;place-items:center;cursor:pointer}
.closebtn svg{width:18px;height:18px}

/* FOOTER */
.footer{position:fixed;left:0;right:0;bottom:0;height:72px;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;z-index:10}
.footer img{max-height:60px;width:auto}
.build-pill{position:absolute;left:10px;bottom:10px;background:rgba(255,255,255,.12);color:#fff;font-size:12px;padding:6px 10px;border-radius:12px}

/* LOADING INDICATOR */
.loading-indicator {
  position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
  background: var(--bg); color: var(--muted); font-family: var(--font-display);
  font-size: 24px; letter-spacing: .1em; z-index: 999;
  opacity: 1; transition: opacity 0.3s ease; pointer-events: none;
}
</style>
</head>
<body>

<header class="site-header">
  <div class="h-left">
    <button class="hambtn" id="openLeft" aria-label="Open Navigation">
      <svg viewBox="0 0 24 24" width="22" height="22"><path fill="currentColor" d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
    </button>
    <img class="ham-logo" src="https://i.postimg.cc/htV31M3K/hamilton-logo-block-with-3-lines-of-type.png" alt="Hamilton HS"/>
  </div>

  <nav class="nav-desktop">
    <a href="#">Where They YAT?</a>
    <a href="#">Active Alumni News</a>
    <a href="#">Next-Level All-Time List</a>
    <a href="#">NIL &amp; YAT-A-BOY Marketplace</a>
    <a href="#">The Current Team</a>
    <a href="#">PCDAction Partner Program</a>
  </nav>

  <div class="h-right">
    <img class="ystats-logo" src="https://i.postimg.cc/G2m7rR3p/yatstats-logo-stacked.png" alt="YAT?STATS"/>
    <div class="hdr-icons">
      <button class="hdr-icon" id="iconSearch" aria-label="Search" title="Search">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg>
      </button>
      <button class="hdr-icon" id="iconFilter" aria-label="Filters" title="Filters">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18l-6.5 7.5V20l-5-2v-5.5L3 5z"/></svg>
      </button>
      <button class="hdr-icon" id="iconReset" aria-label="Reset" title="Reset">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 5V2L8 6l4 4V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg>
      </button>
      <button class="hdr-icon" id="iconProfile" aria-label="Account" title="Account">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.2 0-8 2.1-8 5v1h16v-1c0-2.9-3.8-5-8-5z"/></svg>
      </button>
    </div>
  </div>
</header>

<div class="tagline-wrap">
  <div class="tagline">
    <div class="tag-text">
      <span class="tag-grey">WHERE THEY</span><span class="tag-strong tag-tight"> YAT?</span>
      &nbsp;&nbsp;
      <span class="tag-grey">SWIPE FOR</span><span class="tag-strong tag-tight"> FUN!</span>
    </div>
  </div>
</div>

<div class="scrim" id="scrim"></div>

<aside class="drawer-left" id="drawerLeft" aria-hidden="true" role="navigation">
  <div class="drawer-header"><div class="left-title">Navigation</div><button class="closebtn" id="closeLeft" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg></button></div>
  <div class="left-content"><div class="nav-left-list"><a class="nav-left-link" href="#">WHERE THEY YAT?</a><a class="nav-left-link" href="#">ACTIVE ALUMNI NEWS</a><a class="nav-left-link" href="#">NEXT-LEVEL ALL-TIME LIST</a><a class="nav-left-link" href="#">NIL &amp; YAT-A-BOY MARKETPLACE</a><a class="nav-left-link" href="#">THE CURRENT TEAM</a><a class="nav-left-link" href="#">PCDACTION PARTNER PROGRAM</a><div class="nav-left-sep"></div></div><div class="left-search"><div class="left-search-h">PLAYER PROFILE SEARCH</div><input id="localSearch" type="text" class="ghost" placeholder="Type a player name…" autocomplete="off"/><ul id="localResults" class="left-results"></ul><div class="global-line"><svg class="mini-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg><a href="https://www.yatstats.com" target="_blank" rel="noopener">GLOBAL PLAYER SEARCH</a> |<a href="https://www.yatstats.com" target="_blank" rel="noopener">GLOBAL SCHOOL SEARCH</a></div></div></div>
</aside>

<aside class="drawer-right" id="drawerRight" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="drawer-header"><div class="right-title">Filters</div><button class="closebtn" id="closeRight" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg></button></div>
  <div class="drawer-body"><div class="drawer-content"><details class="rail" open><summary>By Player</summary><div class="inner"><input id="filterName" type="text" class="ghost" placeholder="Type name & press Enter"/><div class="hint">Press <b>Enter</b> to apply and close.</div></div></details><details class="rail" open><summary>By Level</summary><div class="inner"><select id="lvl" class="ghost select-multi" multiple></select></div></details><details class="rail" open><summary>By Grad Class</summary><div class="inner"><select id="grad" class="ghost select-multi" multiple></select></div></details><details class="rail" open><summary>By Roster Year</summary><div class="inner"><select id="roster" class="ghost select-multi" multiple></select></div></details><details class="rail" open><summary>By Status</summary><div class="inner"><select id="status" class="ghost select-multi" multiple><option value="Active">ACTIVE</option><option value="Free Agent">FREE AGENT</option><option value="Injured">INJURED</option><option value="Retired">RETIRED</option></select></div></details></div></div>
</aside>

<aside class="drawer-auth" id="drawerAuth" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="drawer-header"><div class="auth-title">Sign Up | Login</div><button class="closebtn" id="closeAuth" aria-label="Close"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg></button></div>
  <div class="auth-body"><label>Email</label><input class="input" type="email" placeholder="you@example.com"/><label style="margin-top:10px">Password</label><input class="input" type="password" placeholder="••••••••"/><button class="btn-primary">Continue</button></div>
</aside>

<main>
  <div class="loading-indicator" id="loadingIndicator">LOADING...</div>
  <section id="grid" class="grid"></section>
</main>

<footer class="footer">
  <img src="https://i.postimg.cc/v8LxKy54/no-errors-sample-banner.png" alt="Sponsor banner">
  <div class="build-pill">BUILD: ham-v4.2.0</div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

  // --- DATA ---
  const initialPlayers = [
    {"id":"cody-bellinger","name":"CODY BELLINGER","graduatingClass":2013,"currentLevel":"MLB","status":"Active","frontImg":"https://i.postimg.cc/9F19KG5h/new-york-yankees-outfielder-cody-bellinger.jpg","highSchoolImg":"https://i.postimg.cc/Jhq690Lg/01-Bellinger-Front-page-00001.jpg"},
    {"id":"patrick-murphy","name":"PATRICK MURPHY","graduatingClass":2013,"currentLevel":"KBO","status":"Active","frontImg":"https://i.postimg.cc/JnCXccvC/MURPH.avif","highSchoolImg":"https://i.postimg.cc/pdxcG8gz/02-Murphy-Front-page-00001.jpg"},
    {"id":"dom-hamel","name":"DOM HAMEL","graduatingClass":2017,"currentLevel":"Triple-A","status":"Active","frontImg":"https://i.postimg.cc/rwYchfnt/20250804-151814.jpg","highSchoolImg":"https://i.postimg.cc/VLC7zDwX/23-Hamel-Front-page-00001.jpg"},
    {"id":"logan-boyer","name":"LOGAN BOYER","graduatingClass":2016,"currentLevel":"Triple-A","status":"Active","frontImg":"https://i.postimg.cc/c1Kq8Dkv/Logan-Boyer.jpg","highSchoolImg":"https://i.postimg.cc/gJtM27rH/11-Boyer-Front-page-00001.jpg"},
    {"id":"drew-swift","name":"DREW SWIFT","graduatingClass":2017,"currentLevel":"Triple-A","status":"Active","frontImg":"https://i.postimg.cc/GmmSKFsV/AISelect-20250826-023939-Instagram.jpg","highSchoolImg":"https://i.postimg.cc/0j6VMCwR/04-Swift-Front-page-00001.jpg"},
    {"id":"shane-murphy","name":"SHANE MURPHY","graduatingClass":2019,"currentLevel":"Triple-A","status":"Active","frontImg":"https://i.postimg.cc/HL7zvBWZ/Shane-Murphy-Birmingham-Barons-Chicago-White-Sox.jpg","highSchoolImg":"https://i.postimg.cc/bYMCX47z/26-Murphy-Front-page-00001.jpg"},
    {"id":"brock-selvidge","name":"BROCK SELVIDGE","graduatingClass":2021,"currentLevel":"Double-A","status":"Active","frontImg":"https://i.postimg.cc/kgSyd4xs/AISelect-20250826-020305-Instagram.jpg","highSchoolImg":"https://i.postimg.cc/vTp3W6r1/22-Selvidge-Front-page-00001.jpg"},
    {"id":"luke-thiele","name":"LUKE THIELE","graduatingClass":2021,"currentLevel":"NCAA-D1","status":"Active","frontImg":"https://i.postimg.cc/593zLzmD/luke-theil.jpg","highSchoolImg":"https://i.postimg.cc/LXYrnvvj/45-Thiele-Front-page-00001.jpg"},
    {"id":"tyler-wilson","name":"TYLER WILSON","graduatingClass":2021,"currentLevel":"High-A","status":"Active","frontImg":"https://i.postimg.cc/pXpZqkrg/1756201702161-1.jpg","highSchoolImg":"https://i.postimg.cc/PxXbZQ0V/34-Wilson-Front-page-00001.jpg"},
    {"id":"shane-anderson","name":"SHANE ANDERSON","graduatingClass":2020,"currentLevel":"NAIA","status":"Active","frontImg":"https://i.postimg.cc/J4j5XP4M/IMG-20250826-030341.jpg","highSchoolImg":"https://i.postimg.cc/SNj7TkrQ/AISelect-20250826-031127-Gallery-1.jpg"},
    {"id":"chaz-deluca","name":"CHAZ DELUCA","graduatingClass":2017,"currentLevel":"High-A","status":"COACH","frontImg":"https://i.postimg.cc/rp0T753Z/IMG-7630.jpg","highSchoolImg":"https://i.postimg.cc/v8xHxwmx/AISelect-20250729-224953-System-UI.jpg"}
  ];

  const hamiltonPlayersData = [
    {"name":"Shane Anderson","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"DJ Barrett","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Cody Bellinger","label":"ACTIVE 2025","type":"batter"},
    {"name":"Logan Boyer","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Cooper Brass","label":"ACTIVE 2025","type":"batter"},
    {"name":"Michael Brueser","label":"ACTIVE 2024","type":"batter"},
    {"name":"Nick Brueser","label":"RETIRED","type":"batter"},
    {"name":"Caden Burghardt","label":"ACTIVE 2025","type":"batter"},
    {"name":"Roch Cholowsky","label":"ACTIVE 2025","type":"batter"},
    {"name":"Prince DeBoskie","label":"ACTIVE 2025","type":"batter"},
    {"name":"Chaz DeLuca","label":"RETIRED","type":"pitcher"},
    {"name":"Easton Erwin","label":"RETIRED","type":"batter"},
    {"name":"Tyler Erwin","label":"RETIRED","type":"pitcher"},
    {"name":"Britt Graham","label":"RETIRED","type":"batter"},
    {"name":"Dom Hamel","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Kent Hasler","label":"ACTIVE 2024","type":"pitcher"},
    {"name":"Kyle Hasler","label":"RETIRED","type":"batter"},
    {"name":"Alex Hernandez","label":"ACTIVE 2025","type":"batter"},
    {"name":"Stephen Hernandez","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Tanner Holland","label":"ACTIVE 2024","type":"batter"},
    {"name":"Carson Johnson","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Zachary Johnston","label":"ACTIVE 2025","type":"batter"},
    {"name":"Jeremy Jones","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Kole Klecker","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Ryan Kucherak","label":"ACTIVE 2025","type":"batter"},
    {"name":"Rohan Lettow","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Jeter Mauzey","label":"ACTIVE 2025","type":"batter"},
    {"name":"J.D. McLaughlin","label":"ACTIVE 2024","type":"batter"},
    {"name":"Patrick Murphy","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Shane Murphy","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Mitch Nay","label":"RETIRED","type":"batter"},
    {"name":"Sean Rackoski","label":"ACTIVE 2024","type":"pitcher"},
    {"name":"Logan Saloman","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Brock Selvidge","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Will Shelor","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Jackson Smith","label":"ACTIVE 2024","type":"pitcher"},
    {"name":"Drew Swift","label":"ACTIVE 2025","type":"batter"},
    {"name":"Luke Thiele","label":"ACTIVE 2025","type":"batter"},
    {"name":"Tyler Thompson","label":"ACTIVE 2025","type":"batter"},
    {"name":"Josh Tiedemann","label":"ACTIVE 2025","type":"pitcher"},
    {"name":"Gavin Turley","label":"ACTIVE 2025","type":"batter"},
    {"name":"Zach Wadas","label":"ACTIVE 2025","type":"batter"},
    {"name":"Braden Watkins","label":"ACTIVE 2025","type":"batter"},
    {"name":"Liam Wilson","label":"ACTIVE 2025","type":"batter"},
    {"name":"Tyler Wilson","label":"ACTIVE 2025","type":"batter"},
    {"name":"Jake Wong","label":"ACTIVE 2024","type":"pitcher"}
  ];

  // Merge image data from initial set into the main Hamilton list
  const players = hamiltonPlayersData.map(p => {
    const originalPlayer = initialPlayers.find(op => op.name.toLowerCase() === p.name.toLowerCase());
    const id = p.name.toLowerCase().replace(/\s+/g, '-');
    return { ...p, id, frontImg: originalPlayer?.frontImg, highSchoolImg: originalPlayer?.highSchoolImg };
  }).sort((a, b) => b.label.localeCompare(a.label) || a.name.localeCompare(b.name));

  // Sample Stats and Stories
  const sampleData = {
    'cody-bellinger': {
      stats2025: { type: 'batter', ab: '450', h: '128', r: '80', sb: '15', '2b': '30', '3b': '3', hr: '28', rbi: '95', avg: '.284', obp: '.350', slg: '.540', ops: '.890' },
      stories: { news: [{ source: "MLB.com", headline: "Bellinger's Grand Slam Lifts Team Over Rivals", date: "2025-08-29", url: "#" }, { source: "ESPN", headline: "Is Cody Bellinger Back to His MVP Form?", date: "2025-08-28", url: "#" }] }
    },
    'dom-hamel': {
      stats2025: { type: 'pitcher', 'w-l': '10-5', whip: '1.18', era: '3.89', fip: '3.45', k9: '9.8', ko: '145', bb: '40', 'k/bb': '3.6', ip: '132.0', r: '60', er: '57', sv: '0' }
    },
    'michael-brueser': {
      stats2024: { type: 'batter', ab: '350', h: '95', r: '60', sb: '8', '2b': '22', '3b': '1', hr: '14', rbi: '55', avg: '.271', obp: '.340', slg: '.480', ops: '.820' }
    },
    'mitch-nay': {
      careerStats: { type: 'batter', ab: '3500', h: '980', r: '550', sb: '40', '2b': '210', '3b': '25', hr: '150', rbi: '600', avg: '.280', obp: '.345', slg: '.485', ops: '.830' }
    }
  };

  // --- HELPERS & RENDERERS ---
  const byId = id => document.getElementById(id);
  function lvlClass(l) { return String(l || '').toLowerCase().replace(/\s+/g, '-').replace('aaa', 'triple-a').replace('aa', 'double-a').replace('a+', 'high-a').replace('a-', 'low-a'); }
  function teamAndParent(p) { const raw = String(p.team || '—'); const parts = raw.split('—'); const team = (parts[0] || raw).trim(); let parent = (parts[1] || '').trim(); if ((p.currentLevel || '').toUpperCase() === 'MLB') parent = ''; return { team, parent }; }
  function letterDots(years) { if (!years || !years.length) return ''; const sorted = [...years].sort((a, b) => b - a); return `<div class="letters">${sorted.slice(0, 4).map(y => `<span class="letter-dot" title="${y}">${String(y).slice(-2)}</span>`).join('')}</div>`; }
  function makeKV(k, v) { return `<div class="kv"><div class="k">${k}</div><div class="v">${v ?? '—'}</div></div>`; }
  
  function getStatsHtml(player) {
    const pData = sampleData[player.id];
    let stats, title;
    if (player.label.includes('ACTIVE 2025') && pData?.stats2025) {
      stats = pData.stats2025;
      title = '2025 SEASON STATS';
    } else if (player.label.includes('ACTIVE 2024') && pData?.stats2024) {
      stats = pData.stats2024;
      title = '2024 SEASON STATS';
    } else if (player.label.includes('RETIRED') && pData?.careerStats) {
      stats = pData.careerStats;
      title = 'CAREER STATS';
    }

    if (!stats) return { html: '<div class="pane-placeholder">Stats not available.</div>', title: 'STATS' };

    let gridHtml = '';
    if (stats.type === 'batter') {
      gridHtml = `${makeKV('AVG', stats.avg)} ${makeKV('OBP', stats.obp)} ${makeKV('SLG', stats.slg)} ${makeKV('OPS', stats.ops)} ${makeKV('AB', stats.ab)} ${makeKV('H', stats.h)} ${makeKV('R', stats.r)} ${makeKV('SB', stats.sb)} ${makeKV('2B', stats.['2b'])} ${makeKV('3B', stats.['3b'])} ${makeKV('HR', stats.hr)} ${makeKV('RBI', stats.rbi)}`;
    } else {
      gridHtml = `${makeKV('W-L', stats['w-l'])} ${makeKV('WHIP', stats.whip)} ${makeKV('ERA', stats.era)} ${makeKV('FIP', stats.fip)} ${makeKV('K/9', stats.k9)} ${makeKV('K', stats.ko)} ${makeKV('BB', stats.bb)} ${makeKV('K/BB', stats['k/bb'])} ${makeKV('IP', stats.ip)} ${makeKV('R', stats.r)} ${makeKV('ER', stats.er)} ${makeKV('SV', stats.sv)}`;
    }
    return { html: `<div class="kv-wrap12">${gridHtml}</div>`, title };
  }

  function makeCard(p) {
    const { html: statsHtml, title: statsTitle } = getStatsHtml(p);
    const stories = sampleData[p.id]?.stories;
    const newsHtml = stories?.news?.length ? `<ul class="story-list">${stories.news.map(item => `<li class="story-item"><a href="${item.url}" target="_blank" rel="noopener"><div class="story-headline">${item.headline}</div><div class="story-meta">${item.source} • ${item.date}</div></a></li>`).join('')}</ul>` : '<div class="pane-placeholder">No recent news.</div>';

    return `<article class="card flip-card front" tabindex="0" aria-label="${p.name.toUpperCase()}" data-id="${p.id}">
      <button class="hit left" aria-label="Flip previous"></button><button class="hit right" aria-label="Flip next"></button>
      <div class="flip-inner">
        <section class="face front-face">
          <img class="card-img" src="${p.frontImg || ''}" alt="${p.name}" onerror="this.style.backgroundColor='#333'" loading="lazy">
          <div class="bottom-grad"></div>
          <div class="front-left">
            <div class="name">${p.name.toUpperCase()}</div>
            <div class="stack" style="margin-top:8px;">
              <span class="chip class">${p.label.replace(/ /g, ' ')}</span>
            </div>
          </div>
        </section>
        <section class="face back-face">
          <div class="back-top-area">
            <div class="back-top-left">
              <div>
                <div class="stats-name">${p.name.toUpperCase()}</div>
                <div class="team-line">${p.type === 'batter' ? 'Hitter' : 'Pitcher'}</div>
              </div>
              <a class="action-chip ghost" href="#" data-noflip>PLAYER PROFILE</a>
            </div>
            <div class="back-top-right">
              <img class="hs-box-img" src="${p.highSchoolImg || ''}" alt="${p.name} HS" onerror="this.style.display='none'" loading="lazy">
            </div>
          </div>
          <div class="fun-zone" data-noflip>
            <div class="stats-tab">${statsTitle}</div>
            <div class="fun-zone-window">
              <div class="pane-container">
                <div class="pane pane-stats">${statsHtml}</div>
                <div class="pane pane-news">${newsHtml}</div>
                <div class="pane"><div class="pane-placeholder">YAT-A-BOY! Coming Soon</div></div>
                <div class="pane"><div class="pane-placeholder">NIL Point Total Coming Soon</div></div>
                <div class="pane"><div class="pane-placeholder">X Feed Coming Soon</div></div>
                <div class="pane"><div class="pane-placeholder">Instagram Feed Coming Soon</div></div>
                <div class="pane"><div class="pane-placeholder">YouTube Feed Coming Soon</div></div>
                <div class="pane"><div class="pane-placeholder">Photo Gallery Coming Soon</div></div>
              </div>
            </div>
            <div class="back-icon-bar" role="tablist">
              <button class="icon-btn active" data-index="0" title="Stats"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M5 3h2v18H5zM11 10h2v11h-2zM17 6h2v15h-2z"/></svg></button>
              <button class="icon-btn" data-index="1" title="News"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M4 5h16v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V5zm2 2v12h12V7H6zm1 1h10v3H7V8z"/></svg></button>
              <button class="icon-btn" data-index="2" title="YAT-A-BOY!"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-9h4v2h-4v3l-4-4 4-4v3z"/></svg></button>
              <button class="icon-btn" data-index="3" title="NIL Point Total"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-2v2h-2v-2h-2v-2h2V9h2v2h2v2zm-8-4H7V7h2v2zm0 4H7v-2h2v2zm0 4H7v-2h2v2z"/></svg></button>
              <button class="icon-btn" data-index="4" title="X Feed"><svg viewBox="0 0 1200 1227"><path fill="currentColor" d="M714 511 1160 0H996L689 356 420 0H0l463 607L0 1227h164l329-379 286 379h420zM327 120h154l646 873H973z"/></svg></button>
              <button class="icon-btn" data-index="5" title="Instagram"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 .001 10.001A5 5 0 0 0 12 7zm6-2.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/></svg></button>
              <button class="icon-btn" data-index="6" title="YouTube"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M21.58 7.19c-.23-.86-.9-1.52-1.76-1.75C18.25 5 12 5 12 5s-6.25 0-7.82.44c-.86.23-1.52.9-1.76 1.75C2 8.75 2 12 2 12s0 3.25.42 4.81c.23.86.9 1.52 1.76 1.75C5.75 19 12 19 12 19s6.25 0 7.82-.44c.86-.23 1.52-.9 1.76-1.75C22 15.25 22 12 22 12s0-3.25-.42-4.81zM10 15.5v-7l6 3.5-6 3.5z"/></svg></button>
              <button class="icon-btn" data-index="7" title="Photo Gallery"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2zm-11-4-3 4h12l-4-5-3 4zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"/></svg></button>
            </div>
          </div>
        </section>
      </div>
    </article>`;
  }
  function render(list) { byId('grid').innerHTML = list.map(makeCard).join(''); attachInteractions(); }

  // --- FILTERS ---
  function populateFilters() { /* ... unchanged ... */ }
  function applyFilters() { /* ... unchanged ... */ }
  function resetAll() { /* ... unchanged ... */ }

  // --- INTERACTIONS & DRAWERS ---
  const INTERACTIVE_SEL = '[data-noflip], a, button, input, select, textarea';
  function toggle(card) { if (!card) return; card.classList.toggle('front', !card.classList.contains('front')); card.classList.toggle('back', !card.classList.contains('back')); }
  
  function attachInteractions() {
    document.querySelectorAll('.card').forEach(c => {
      if (!c.classList.contains('front') && !c.classList.contains('back')) c.classList.add('front');
      const iconBar = c.querySelector('.back-icon-bar');
      const paneContainer = c.querySelector('.pane-container');
      let currentIndex = 0;

      // Icon click navigation
      iconBar.addEventListener('click', e => {
        const btn = e.target.closest('.icon-btn');
        if (!btn) return;
        currentIndex = parseInt(btn.dataset.index, 10);
        updatePanes();
      });

      // Swipe navigation
      let touchStartX = 0;
      paneContainer.addEventListener('touchstart', e => { touchStartX = e.touches[0].clientX; }, { passive: true });
      paneContainer.addEventListener('touchend', e => {
        const touchEndX = e.changedTouches[0].clientX;
        const deltaX = touchEndX - touchStartX;
        if (Math.abs(deltaX) > 50) { // Swipe threshold
          if (deltaX < 0 && currentIndex < 7) { // Swipe left
            currentIndex++;
          } else if (deltaX > 0 && currentIndex > 0) { // Swipe right
            currentIndex--;
          }
          updatePanes();
        }
      });
      
      function updatePanes() {
        paneContainer.style.transform = `translateX(-${currentIndex * 12.5}%)`;
        iconBar.querySelectorAll('.icon-btn').forEach((b, i) => {
          b.classList.toggle('active', i === currentIndex);
        });
      }
    });

    document.querySelectorAll('.card .hit').forEach(hit => { hit.addEventListener('click', e => { if (e.target.closest(INTERACTIVE_SEL)) return; toggle(hit.closest('.card')); }); });
  }

  // --- ALL OTHER UNCHANGED JS (Drawers, Search, etc.) ---
  const scrim = byId('scrim'); const drawerLeft = byId('drawerLeft'); const drawerRight = byId('drawerRight'); const drawerAuth = byId('drawerAuth');
  const iconSearch = byId('iconSearch'); const iconFilter = byId('iconFilter'); const iconReset = byId('iconReset'); const iconProfile = byId('iconProfile');
  let lastFocus = null;
  function setActiveIcon(btn, a) { btn?.classList.toggle('active', !!a); }
  function openLeft() { closeRight(false); closeAuth(false); lastFocus = document.activeElement; drawerLeft.classList.add('open'); scrim.classList.add('open'); document.body.classList.add('no-scroll'); setActiveIcon(iconSearch, true); setActiveIcon(iconFilter, false); setActiveIcon(iconProfile, false); }
  function closeLeft(focus = true) { drawerLeft.classList.remove('open'); if (!drawerRight.classList.contains('open') && !drawerAuth.classList.contains('open')) { scrim.classList.remove('open'); document.body.classList.remove('no-scroll'); } setActiveIcon(iconSearch, false); if (focus) lastFocus?.focus?.(); }
  function openRight() { closeLeft(false); closeAuth(false); lastFocus = document.activeElement; drawerRight.classList.add('open'); scrim.classList.add('open'); document.body.classList.add('no-scroll'); setActiveIcon(iconFilter, true); setActiveIcon(iconSearch, false); setActiveIcon(iconProfile, false); }
  function closeRight(focus = true) { drawerRight.classList.remove('open'); if (!drawerLeft.classList.contains('open') && !drawerAuth.classList.contains('open')) { scrim.classList.remove('open'); document.body.classList.remove('no-scroll'); } setActiveIcon(iconFilter, false); if (focus) lastFocus?.focus?.(); }
  function openAuth() { closeLeft(false); closeRight(false); lastFocus = document.activeElement; drawerAuth.classList.add('open'); scrim.classList.add('no-scroll'); setActiveIcon(iconProfile, true); setActiveIcon(iconSearch, false); setActiveIcon(iconFilter, false); }
  function closeAuth(focus = true) { drawerAuth.classList.remove('open'); if (!drawerLeft.classList.contains('open') && !drawerRight.classList.contains('open')) { scrim.classList.remove('open'); document.body.classList.remove('no-scroll'); } setActiveIcon(iconProfile, false); if (focus) lastFocus?.focus?.(); }
  function closeDrawers() { closeLeft(false); closeRight(false); closeAuth(); }
  byId('openLeft').addEventListener('click', openLeft); byId('closeLeft').addEventListener('click', () => closeLeft()); byId('closeRight').addEventListener('click', () => closeRight());
  byId('closeAuth').addEventListener('click', () => closeAuth()); iconSearch.addEventListener('click', openLeft); iconFilter.addEventListener('click', openRight); iconProfile.addEventListener('click', openAuth);
  iconReset.addEventListener('click', resetAll); scrim.addEventListener('click', closeDrawers);
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeDrawers(); });
  function addSwipeClose(el, dir) { let sx = null; el.addEventListener('touchstart', e => { sx = e.touches[0].clientX; }, { passive: true }); el.addEventListener('touchend', e => { if (sx == null) return; const dx = e.changedTouches[0].clientX - sx; if (Math.abs(dx) > 50) { if (dir === 'left' && dx < 0) closeLeft(); if (dir === 'right' && dx > 0) { el === drawerAuth ? closeAuth() : closeRight(); } } sx = null; }); }
  addSwipeClose(drawerLeft, 'left'); addSwipeClose(drawerRight, 'right'); addSwipeClose(drawerAuth, 'right');
  const localSearch = byId('localSearch'); const localResults = byId('localResults');
  function renderLocalResults(q) { localResults.innerHTML = ''; if (!q) return; players.filter(p=>(p.name||'').toLowerCase().includes(q.toLowerCase())).slice(0,50).forEach(p=>{ const li=document.createElement('li'); li.textContent=`${p.name}`; li.addEventListener('click', ()=>{ window.location.href=`profile.html?id=${p.id}`; closeLeft(); }); localResults.appendChild(li); }); }
  localSearch.addEventListener('input', (e)=>renderLocalResults(e.target.value));
  byId('filterName').addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); applyFilters(); closeRight(); } });


  // --- INITIALIZE APP ---
  const loadingIndicator = byId('loadingIndicator');
  render(players);
  loadingIndicator.style.opacity = '0';
  setTimeout(() => loadingIndicator.style.display = 'none', 300);

});
</script>

</body>
</html>
