<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>YAT?STATS • Hamilton — Where They YAT?</title>

<!-- Minimal, self‑contained styles (no CDNs) -->
<style>
  :root{
    --maroon:#7A0019; --ink:#111; --muted:#6b7280; --ring:#E3E6EA;
    --bg:#fff; --panel:#f8f9fb;
  }
  *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
  body{margin:0;background:#f5f6f8;color:var(--ink)}
  /* Header */
  .site-header{position:fixed;inset:0 0 auto 0;height:72px;background:#fff;border-bottom:1px solid var(--ring);z-index:10}
  .row{max-width:1100px;margin:0 auto;padding:0 16px;display:flex;align-items:center;justify-content:space-between;height:100%}
  .lhs{display:flex;align-items:center;gap:12px}
  .brand{height:36px}
  .nav{display:none;gap:20px}
  .nav a{font-size:12px;text-transform:uppercase;letter-spacing:.06em;text-decoration:none;color:#666;padding-bottom:6px}
  .nav a.active{color:var(--maroon);border-bottom:2px solid var(--maroon)}
  .yat{height:32px}
  @media (min-width:920px){ .nav{display:flex} .brand{height:44px} .yat{height:40px} }

  /* Filters */
  .filters{position:sticky;top:72px;z-index:9;background:#fff;border-bottom:1px solid var(--ring)}
  .filters .row{height:auto;padding:10px 16px;gap:10px}
  .input, .select{border:1px solid var(--ring);border-radius:6px;background:#fff;height:36px;padding:0 12px;font-size:14px;outline:none}
  .input{flex:1 1 auto}
  .select{flex:0 0 180px}

  /* Grid */
  main{padding:72px 0 80px}
  .wrap{max-width:1100px;margin:0 auto;padding:16px}
  .grid{display:grid;grid-template-columns:1fr;gap:14px}
  @media (min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media (min-width:980px){.grid{grid-template-columns:repeat(3,1fr)}}

  /* Card (3 sides) */
  .card{background:#fff;border:1px solid var(--ring);border-radius:10px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.05)}
  .flip{perspective:1200px}
  .inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .6s}
  .side{position:absolute;inset:0;backface-visibility:hidden}
  .s2{transform:rotateY(120deg)} .s3{transform:rotateY(240deg)}
  .rot0 .inner{transform:rotateY(0)} .rot120 .inner{transform:rotateY(120deg)} .rot240 .inner{transform:rotateY(240deg)}

  .imgbox{position:relative;padding:10px}
  .img{width:100%;aspect-ratio:5/8;object-fit:cover;border-radius:8px;background:#ddd}
  .tag{position:absolute;top:16px;right:16px;padding:.25rem .5rem;border-radius:6px;font-size:.7rem;color:#fff;font-weight:700;background:var(--maroon)}
  .overlay{position:absolute;left:16px;right:16px;bottom:16px;background:linear-gradient(to top,rgba(0,0,0,.75),transparent);color:#fff;padding:10px;border-radius:8px}
  .overlay .name{font-weight:800}
  .panel{padding:12px}
  .kvs{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
  .kv{background:var(--panel);border-radius:6px;text-align:center;padding:8px}
  .kv .k{font-size:11px;color:#6b7280}
  .kv .v{font-weight:700}
  .muted{color:#6b7280;font-size:12px}

  /* Footer */
  footer{position:fixed;left:0;right:0;bottom:0;height:60px;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:700;letter-spacing:.04em}
</style>
</head>
<body>

<header class="site-header">
  <div class="row">
    <div class="lhs">
      <img class="brand" src="https://i.postimg.cc/NjRf6nGF/hamilton-log-with-3-lines.png" alt="Hamilton HS Active Alumni"
           onerror="this.src='https://i.postimg.cc/76srDfFT/yatstats-logo-stacked.png'">
      <nav class="nav">
        <a class="active" href="#">Where They YAT?</a>
        <a href="#">Active Alumni News</a>
        <a href="#">All‑Time Huskies Roster</a>
        <a href="#">YAT‑A‑BOY Marketplace</a>
        <a href="#">PCDAction Partners</a>
        <a href="#">Current HS Team</a>
        <a href="#">Global School Search</a>
        <a href="#">Register | Login</a>
      </nav>
    </div>
    <img class="yat" src="https://i.postimg.cc/76srDfFT/yatstats-logo-stacked.png" alt="YAT?STATS">
  </div>
</header>

<section class="filters">
  <div class="row">
    <input id="q" class="input" placeholder="Search by Player Name">
    <select id="grad" class="select"><option value="">Graduating Class</option></select>
    <select id="lvl" class="select"><option value="">Current Level</option></select>
  </div>
</section>

<main>
  <div class="wrap">
    <section id="grid" class="grid"></section>
  </div>
</main>

<footer>SPONSOR AD BANNER</footer>

<script>
/* ------------ DATA (always present, so nothing disappears) ------------ */
const players = [
  {
    id:"bellinger",
    name:"Cody Bellinger",
    graduatingClass:2013,
    currentLevel:"MLB",
    position:"CF/1B",
    team:"New York Yankees",
    frontImg:"https://i.postimg.cc/Y2PVpqNK/new-york-yankees-outfielder-cody-bellinger.jpg",
    highSchoolImg:"https://i.postimg.cc/z3h5j6H9/Bellinger-Hamilton-HS.jpg",
    seasonStats:{avg:"—",hr:"—",rbi:"—",ops:"—"},
    lastGame:{line:"—"}, nextGame:{opponent:"—",time:"—"}
  },
  {
    id:"patrick-murphy",
    name:"Patrick Murphy",
    graduatingClass:2013,
    currentLevel:"KBO",
    position:"P",
    team:"KT Wiz Suwon",
    frontImg:"https://i.postimg.cc/gc32dtQG/MURPH.avif",
    highSchoolImg:"https://i.postimg.cc/pL6kR3Fq/21-Murphy-Back-page-00001.jpg",
    seasonStats:{era:"—",so:"—",whip:"—"},
    lastGame:{line:"—"}, nextGame:{opponent:"—",time:"—"}
  },
  {
    id:"dom-hamel",
    name:"Dom Hamel",
    graduatingClass:2017,
    currentLevel:"AAA",
    position:"P",
    team:"Syracuse Mets",
    frontImg:"https://i.postimg.cc/Vv9fR5nJ/dom.webp",
    highSchoolImg:"https://i.postimg.cc/85zK09qS/23-Hamel-Back-page-00001.jpg",
    seasonStats:{era:"—",k9:"—",wl:"—"},
    lastGame:{line:"—"}, nextGame:{opponent:"—",time:"—"}
  }
];

/* ------------ Helpers ------------ */
const levelColors = {
  mlb:"#7A0019", aaa:"#2563eb", aa:"#3b82f6", "a+":"%234f46e5", a:"#4338ca",
  ncaa:"#166534", njcaa:"#a16207", naia:"#92400e", indy:"#3f6212", kbo:"#0ea5e9"
};
function tagColor(level){
  const k=String(level||"").toLowerCase();
  return levelColors[k] || "#7A0019";
}
function esc(s){return String(s||"").replace(/[&<>"']/g,m=>({ "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;" }[m]))}
function safeImg(src,alt){
  return `src="${esc(src)}" alt="${esc(alt)}" onerror="this.replaceWith(document.createRange().createContextualFragment('<div style=&quot;background:#e5e7eb;border-radius:8px;width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#6b7280;font-size:12px&quot;>Image unavailable</div>'))"`;
}

/* ------------ Render ------------ */
function makeCard(p){
  const color = tagColor(p.currentLevel);
  const pitcher = /\bp\b|pitch/i.test(p.position||"");
  const season = pitcher
    ? `<div class="kvs">
         <div class="kv"><div class="k">ERA</div><div class="v">${esc(p.seasonStats?.era||"—")}</div></div>
         <div class="kv"><div class="k">SO/K9</div><div class="v">${esc(p.seasonStats?.so||p.seasonStats?.k9||"—")}</div></div>
         <div class="kv"><div class="k">WHIP/W-L</div><div class="v">${esc(p.seasonStats?.whip||p.seasonStats?.wl||"—")}</div></div>
         <div class="kv"><div class="k">Class</div><div class="v">${esc(p.graduatingClass||"—")}</div></div>
       </div>`
    : `<div class="kvs">
         <div class="kv"><div class="k">AVG</div><div class="v">${esc(p.seasonStats?.avg||"—")}</div></div>
         <div class="kv"><div class="k">HR</div><div class="v">${esc(p.seasonStats?.hr||"—")}</div></div>
         <div class="kv"><div class="k">RBI</div><div class="v">${esc(p.seasonStats?.rbi||"—")}</div></div>
         <div class="kv"><div class="k">OPS</div><div class="v">${esc(p.seasonStats?.ops||"—")}</div></div>
       </div>`;

  return `
  <article class="card flip rot0" tabindex="0">
    <div class="inner">
      <!-- Front -->
      <div class="side s1">
        <div class="imgbox">
          <img class="img" ${safeImg(p.frontImg,p.name)} />
          <span class="tag" style="background:${color}">${esc(p.currentLevel||"")}</span>
          <div class="overlay">
            <div class="name">${esc(p.name)}</div>
            <div style="font-size:12px;opacity:.9">${esc(p.team)} • ${esc(p.position)}</div>
            <div style="margin-top:4px;font-size:11px;opacity:.85">
              <div><b>Last:</b> ${esc(p.lastGame?.line||"—")}</div>
              <div><b>Next:</b> ${esc(p.nextGame?.opponent||"—")} • ${esc(p.nextGame?.time||"—")}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Side 2 -->
      <div class="side s2">
        <div class="panel">
          <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px">
            <div>
              <div style="font-weight:700">${esc(p.name)}</div>
              <div class="muted">${esc(p.team)} • ${esc(p.position)}</div>
            </div>
            <span class="tag" style="background:${color}">${esc(p.currentLevel||"")}</span>
          </div>
          ${season}
          <div class="muted" style="margin-top:8px">Hamilton Class of ${esc(p.graduatingClass||"—")}</div>
        </div>
      </div>

      <!-- Side 3 -->
      <div class="side s3">
        <div class="imgbox" style="padding:10px">
          ${
            p.highSchoolImg
            ? `<img class="img" ${safeImg(p.highSchoolImg, p.name + ' — Hamilton HS')}>`
            : `<div class="img" style="display:flex;align-items:center;justify-content:center;color:#6b7280;font-size:12px;background:#e5e7eb">No HS image yet</div>`
          }
        </div>
      </div>
    </div>
  </article>`;
}

function render(list){
  document.getElementById('grid').innerHTML = list.map(makeCard).join('');
}

function populateFilters(){
  const classes=[...new Set(players.map(p=>p.graduatingClass))].filter(Boolean).sort((a,b)=>b-a);
  const levels=[...new Set(players.map(p=>p.currentLevel))];

  const gf=document.getElementById('grad');
  classes.forEach(c=>{const o=document.createElement('option'); o.value=c; o.textContent=c; gf.appendChild(o);});
  const lf=document.getElementById('lvl');
  levels.forEach(l=>{const o=document.createElement('option'); o.value=l; o.textContent=l; lf.appendChild(o);});
}

function applyFilters(){
  const q=(document.getElementById('q').value||'').toLowerCase();
  const g=document.getElementById('grad').value;
  const l=document.getElementById('lvl').value;
  const list=players.filter(p =>
    (!q || p.name.toLowerCase().includes(q)) &&
    (!g || String(p.graduatingClass)===g) &&
    (!l || p.currentLevel===l)
  );
  render(list);
}

/* Flip interaction: right half = next side, left half = previous */
function rotate(card, right){
  if(card.classList.contains('rot0'))      card.classList.replace('rot0', right?'rot120':'rot240');
  else if(card.classList.contains('rot120')) card.classList.replace('rot120', right?'rot240':'rot0');
  else                                       card.classList.replace('rot240', right?'rot0':'rot120');
}
document.addEventListener('click', (e)=>{
  const card=e.target.closest('.card');
  if(!card) return;
  const r=card.getBoundingClientRect();
  const right=(e.clientX - r.left) > r.width/2;
  rotate(card,right);
});
document.addEventListener('keydown', (e)=>{
  if(!['ArrowLeft','ArrowRight'].includes(e.key)) return;
  const card=document.activeElement?.closest?.('.card'); if(!card) return;
  rotate(card, e.key==='ArrowRight');
});

/* Init */
populateFilters();
render(players);
</script>
</body>
</html>