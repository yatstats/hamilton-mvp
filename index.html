<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hamilton.yatstats.com / wheretheyyat Pilot Microsite — ham-v4.0.10</title>

<!-- YAT: manifest (keeps us in sync) -->
<script id="yat-manifest">
  window.YAT_BUILD = {
    site: 'hamilton.yatstats.com / wheretheyyat Pilot Microsite',
    version: 'ham-v4.0.10',
    modules: {}
  };
</script>

<style data-mod="layout-css" data-ver="4.0.10">
:root{
  --maroon:#7A0019; --ring:#E3E6EA; --bg:#f3f4f6; --ink:#111827; --muted:#6b7280;
  --headerH:72px;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{background:var(--bg);font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--ink)}
a{color:inherit;text-decoration:none}
body.no-scroll{overflow:hidden}

/* ===== HEADER ===== */
.site-header{
  position:fixed; inset:0 0 auto 0; height:var(--headerH); z-index:60;
  background:#fff; border-bottom:1px solid var(--ring);
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:8px; padding:0 8px;
}
.h-left{display:flex;align-items:center;gap:8px;min-width:0}
.ham-btn{width:34px;height:34px;display:grid;place-items:center;border:0;background:transparent;cursor:pointer}
.ham-logo{height:36px;width:auto;display:block}

.nav-desktop{display:flex;gap:14px;justify-self:center}
.nav-desktop a{font-size:12px;text-transform:uppercase;color:#1f2937;white-space:nowrap;padding:4px 0;letter-spacing:.06em}
@media (max-width:1260px){ .nav-desktop{display:none} }

.h-right{display:flex;align-items:center;gap:8px;margin-left:auto;min-width:0;justify-content:flex-end}
.header-link{font-size:12px;text-transform:uppercase;color:#1f2937;white-space:nowrap}
@media (max-width:980px){ .header-link{display:none} }
.tiny-ctrls{display:flex;gap:6px}
.i-btn{width:30px;height:30px;border:1px solid #e5e7eb;background:#fff;border-radius:8px;display:grid;place-items:center;cursor:pointer}
.i-btn svg{width:16px;height:16px;color:#111}

.ystats-logo{height:34px;width:auto;display:block;margin-left:8px}
@media (max-width:420px){ .ystats-logo{height:30px} }

/* ===== TAGLINE (icons on right) ===== */
.tagline-wrap{position:sticky; top:var(--headerH); z-index:40; background:#fff; border-bottom:1px solid var(--ring)}
.tagline{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;gap:8px}
.tagblock{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.tag-grey{color:#6b7280;font-weight:600;letter-spacing:.01em}
.tag-strong{color:#000;font-weight:900}
.tag-gap{display:inline-block; width:8px} /* a little space between the two phrases */
.tag-note{display:none;color:#6b7280;font-size:11px;margin-left:8px}
@media (min-width:1024px){ .tag-note{display:inline} }

/* ===== GRID (5→4→3→2→1) ===== */
main{padding:calc(var(--headerH) + 44px) 0 84px}
.grid{padding:10px;display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:12px}
@media (min-width:560px){  .grid{grid-template-columns:repeat(2,minmax(0,1fr))} }
@media (min-width:820px){  .grid{grid-template-columns:repeat(3,minmax(0,1fr))} }
@media (min-width:1100px){ .grid{grid-template-columns:repeat(4,minmax(0,1fr))} }
@media (min-width:1440px){ .grid{grid-template-columns:repeat(5,minmax(0,1fr))} }

/* ===== CARD ===== */
.card{background:#000;border:0;border-radius:10px;overflow:hidden;position:relative;user-select:none;aspect-ratio:5/7;min-height:280px}
.flip-card{perspective:1200px}
.flip-inner{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .55s cubic-bezier(.2,.7,.2,1)}
.card.front .flip-inner{ transform:rotateY(0) }
.card.back  .flip-inner{ transform:rotateY(180deg) }
.face{position:absolute; inset:0; backface-visibility:hidden; -webkit-backface-visibility:hidden; overflow:hidden}

/* FRONT */
.front-face{transform:rotateY(0)}
.card-img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; background:#111}
.bottom-grad{position:absolute; left:0; right:0; bottom:0; height:66%;
  background:linear-gradient(to top, rgba(0,0,0,.98) 0%, rgba(0,0,0,.92) 30%, rgba(0,0,0,.86) 48%, rgba(0,0,0,0) 76%); pointer-events:none; z-index:1;}
.front-left,.front-right{position:absolute; z-index:3; color:#fff; text-shadow:0 1px 2px rgba(0,0,0,.45)}
.front-left{left:12px; bottom:12px; width:46%}
.front-right{right:12px; bottom:10px; width:70%; text-align:right}
.name{font-weight:900;text-transform:uppercase;letter-spacing:.02em;font-size:18px;line-height:1.06}
.team{font-size:13px}
.parent{font-size:12px;margin-top:2px}
.spacer-6{height:6px}

/* flat chips */
.stack{display:flex;flex-direction:column;gap:4px;margin-top:4px;align-items:flex-start}
.chip{display:inline-flex;align-items:center;gap:6px;background:rgba(255,255,255,.14);color:#fff;border:1px solid rgba(255,255,255,.24);border-radius:999px;padding:2px 8px 3px;font-weight:800;font-size:10px;letter-spacing:.06em}
.chip.level.mlb{background:#7A0019;border-color:#7A0019}
.chip.level.triple-a{background:#2563eb;border-color:#2563eb}
.chip.level.double-a{background:#3b82f6;border-color:#3b82f6}
.chip.level.high-a{background:#4338ca;border-color:#4338ca}
.chip.level.low-a{background:#3730a3;border-color:#3730a3}
.chip.level.rookie{background:#0f766e;border-color:#0f766e}
.chip.level.indy{background:#3f6212;border-color:#3f6212}
.chip.level.ncaa-d1{background:#166534;border-color:#166534}
.chip.level.ncaa-d2{background:#047857;border-color:#047857}
.chip.level.ncaa-d3{background:#065f46;border-color:#065f46}
.chip.level.naia{background:#9333ea;border-color:#9333ea}
.chip.level.juco{background:#0d9488;border-color:#0d9488}
.chip.status{background:#16a34a;border-color:#16a34a}
.chip.status.retired{background:#6b7280;border-color:#6b7280}
.chip.class{background:#374151;border-color:#374151}

/* varsity letter dots */
.letters{display:flex;gap:6px;align-items:center;margin-top:6px}
.letter-dot{width:20px;height:20px;border-radius:50%;background:#fff;color:var(--maroon);display:grid;place-items:center;font-weight:900;font-size:11px;border:1px solid rgba(0,0,0,.15)}

/* right side chips / lines */
.next-chip,.last-chip{display:inline-block;background:rgba(255,255,255,.14);color:#fff;border:1px solid rgba(255,255,255,.24);border-radius:999px;padding:2px 8px 3px;font-size:10px;font-weight:900;letter-spacing:.12em;margin-bottom:3px}
.right-line{font-size:12px;font-weight:800;letter-spacing:-.01em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.last3{margin-top:10px;width:100%;margin-left:auto}
.last3 .item{font-size:12px;color:#e5e7eb;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right}

/* ===== BACK ===== */
.back-face{
  transform:rotateY(180deg);background:#fff;color:#111;
  display:grid; grid-template-rows: 1fr 1fr; height:100%;
}
/* top half: two columns 50/50; ensure name stays at top */
.back-top{
  display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:10px 12px 6px;
  align-items:start; /* <— KEEP NAME AT TOP */
}
.back-left{min-width:0; display:flex; flex-direction:column}
.stats-name{font-weight:900;text-transform:uppercase;letter-spacing:.02em;font-size:16px}
.team-line{color:#1f2937; font-size:13px; line-height:1.15; margin-top:2px}
.parent-line{color:#6b7280; font-size:12px; line-height:1.1; margin-top:2px}

/* tiny 4 icons */
.tiny-bar{margin-top:auto;width:100%}
.tiny-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:6px}
.tabbtn{height:28px;display:grid;place-items:center;border-radius:8px;border:1px solid #e5e7eb;background:#fff;cursor:pointer;transition:background .15s,border-color .15s}
.tabbtn svg{width:14px;height:14px;color:#111}
.tabbtn.active{background:#111;border-color:#111}
.tabbtn.active svg{color:#fff}

/* chips below tiny bar */
.action-chip{margin-top:6px;display:inline-block;width:100%;text-align:center;padding:6px 10px;border-radius:999px;border:1px solid #111;background:#111;color:#fff;font-weight:900;font-size:10px;letter-spacing:.12em;cursor:pointer;user-select:none}
.action-chip.flat{background:#0f172a;border-color:#0f172a}
.action-chip.ghost{background:#fff;color:#111;border-color:#1f2937}
.action-chip.active{background:#7A0019;border-color:#7A0019}

.back-right{display:flex; flex-direction:column}
.hs-box{flex:1 1 auto; width:100%; aspect-ratio:3/4; position:relative; overflow:hidden; border-radius:8px; background:#d1d5db}
.hs-box img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
.profile-chip{width:100%}

/* bottom half container */
.back-bottom{border-top:1px solid var(--ring); padding:10px 12px 12px; min-height:0; overflow:hidden; display:flex; flex-direction:column}
.pane{display:none; min-height:0; overflow:auto; flex:1; animation:slide .18s ease}
.pane.active{display:block}
@keyframes slide{from{opacity:.2;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* stats grid fills the bottom half */
.kv-wrap12{display:grid;grid-template-columns:repeat(4,1fr);grid-auto-rows:1fr;gap:8px;height:100%}
.kv{background:#f3f4f6;border-radius:10px;text-align:center;padding:8px;display:flex;flex-direction:column;justify-content:center}
.kv .k{font-size:11px;color:#6b7280}.kv .v{font-weight:800}

/* edge flip zones — narrower so icons don’t conflict */
.hit{position:absolute;top:0;bottom:0;width:22%;z-index:2;background:transparent;border:0}
@media (max-width:480px){ .hit{width:26%} }
.hit.left{left:0}.hit.right{right:0}

/* ===== DRAWERS ===== */
.scrim{position:fixed;left:0;right:0;top:var(--headerH);bottom:0;background:rgba(0,0,0,.35);opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:55}
.scrim.open{opacity:1;pointer-events:auto}

/* left nav */
.drawer-left{position:fixed; top:var(--headerH); bottom:0; left:0; width:360px; max-width:90vw;background:#fff; border-right:1px solid var(--ring); transform:translateX(-100%);transition:transform .25s ease; z-index:56; display:flex; flex-direction:column; padding:10px 14px;}
.drawer-left.open{ transform:translateX(0) }
.nav-left-list{display:flex; flex-direction:column; gap:12px}
.nav-left-link{ text-decoration:none; color:#2b2b2b; text-transform:uppercase; letter-spacing:.12em; font-weight:400; font-size:13px; line-height:1; padding:10px 6px 8px 4px; border-radius:6px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.nav-left-link:hover{background:#f5f6f8}
.nav-left-sep{height:1px; background:#eceff3; margin:8px 0}

/* right: search + ACCORDION filters */
.drawer-right{position:fixed; top:var(--headerH); bottom:0; right:0; width:440px; max-width:92vw;background:#fff; border-left:1px solid var(--ring); transform:translateX(100%);transition:transform .25s ease; z-index:56; display:flex; flex-direction:column;}
.drawer-right.open{ transform:translateX(0) }
.drawer-right .drawer-header{height:56px; border-bottom:1px solid var(--ring); display:flex; align-items:center; justify-content:flex-end; padding:0 12px}
.drawer-body{min-height:0; overflow:auto}
.drawer-content{display:block; padding:12px 12px 22px}

.rail{border:1px solid #e5e7eb;border-radius:10px;margin-bottom:10px;overflow:hidden}
.rail summary{list-style:none;cursor:pointer;padding:10px 12px;font-weight:800;letter-spacing:.14em;text-transform:uppercase;font-size:12px;color:#374151;border-bottom:1px solid #e5e7eb}
.rail summary::-webkit-details-marker{display:none}
.rail .inner{padding:10px 12px}
.ghost{display:block;width:100%;background:#eef1f5;border:1px solid #d7dce2;border-radius:8px;padding:10px;font-size:13px;color:#111;outline:none}
.select-multi{height:152px}
.hint{color:#9aa1ab;font-size:11px;margin:4px 2px 10px}
@media (max-width:800px){ .hint{display:none} }

/* ===== FOOTER ===== */
.footer{position:fixed;left:0;right:0;bottom:0;height:72px;background:#000;color:#fff;display:flex;align-items:center;justify-content:center;z-index:10}
.footer .band{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:100%}
.footer img{max-height:60px;width:auto}
.build{position:absolute; left:10px; top:50%; transform:translateY(-50%); background:rgba(255,255,255,.12); color:#fff; font-size:12px; padding:6px 10px; border-radius:12px;}
</style>
</head>
<body>

<header class="site-header">
  <div class="h-left">
    <button class="ham-btn" id="openLeft" aria-label="Open Menu" title="Menu">
      <svg viewBox="0 0 24 24" width="20" height="20"><path fill="currentColor" d="M3 6h18v2H3zM3 11h18v2H3zM3 16h18v2H3z"/></svg>
    </button>
    <img class="ham-logo" src="https://i.postimg.cc/htV31M3K/hamilton-logo-block-with-3-lines-of-type.png" alt="Hamilton HS Active Alumni"/>
  </div>

  <nav class="nav-desktop">
    <a href="#">Where They YAT?</a>
    <a href="#">Active Alumni News</a>
    <a href="#">Next-Level All-Time List</a>
    <a href="#">NIL &amp; YAT-A-BOY Marketplace</a>
    <a href="#">The Current Team</a>
    <a href="#">PCDAction Partner Program</a>
  </nav>

  <div class="h-right">
    <a class="header-link" href="#">Global School Search</a>
    <a class="header-link" href="#">Register | Login</a>

    <div class="tiny-ctrls">
      <button class="i-btn" id="openRight" aria-label="Search & Filters" title="Search & Filters">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg>
      </button>
      <button class="i-btn" id="openFilters" aria-label="Open Filters" title="Filters">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18l-6.5 7.5V20l-5-2v-5.5L3 5z"/></svg>
      </button>
      <button class="i-btn" id="resetFilters" aria-label="Reset Filters" title="Reset">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 5V2L8 6l4 4V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg>
      </button>
    </div>

    <img class="ystats-logo" src="https://i.postimg.cc/G2m7rR3p/yatstats-logo-stacked.png" alt="YAT?STATS"/>
  </div>
</header>

<!-- TAGLINE -->
<div class="tagline-wrap">
  <div class="tagline">
    <div class="tagblock">
      <span class="tag-grey">WHERE THEY</span><span class="tag-strong"> YAT?</span>
      <span class="tag-gap"></span>
      <span class="tag-grey">SWIPE FOR</span><span class="tag-strong"> STATS!</span>
      <span class="tag-note"> (Click the edge of a card to flip)</span>
    </div>
    <div class="tiny-ctrls">
      <button class="i-btn" id="openRight2" aria-label="Search & Filters" title="Search & Filters">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg>
      </button>
      <button class="i-btn" id="openFilters2" aria-label="Open Filters" title="Filters">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18l-6.5 7.5V20l-5-2v-5.5L3 5z"/></svg>
      </button>
      <button class="i-btn" id="resetFilters2" aria-label="Reset Filters" title="Reset">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 5V2L8 6l4 4V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg>
      </button>
    </div>
  </div>
</div>

<!-- SCRIM + DRAWERS -->
<div class="scrim" id="scrim"></div>

<aside class="drawer-left" id="drawerLeft" aria-hidden="true" role="navigation">
  <div class="nav-left-list">
    <a class="nav-left-link" href="#">WHERE THEY YAT?</a>
    <a class="nav-left-link" href="#">ACTIVE ALUMNI NEWS</a>
    <a class="nav-left-link" href="#">NEXT-LEVEL ALL-TIME LIST</a>
    <a class="nav-left-link" href="#">NIL &amp; YAT-A-BOY MARKETPLACE</a>
    <a class="nav-left-link" href="#">THE CURRENT TEAM</a>
    <a class="nav-left-link" href="#">PCDACTION PARTNER PROGRAM</a>
    <div class="nav-left-sep"></div>
    <a class="nav-left-link" href="#">GLOBAL SCHOOL SEARCH</a>
    <a class="nav-left-link" href="#">REGISTER | LOGIN</a>
  </div>
</aside>

<aside class="drawer-right" id="drawerRight" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="drawer-header">
    <button class="i-btn" id="closeRight" aria-label="Close">
      <svg viewBox="0 0 24 24"><path fill="currentColor" d="M6.225 4.811 4.811 6.225 10.586 12l-5.775 5.775 1.414 1.414L12 13.414l5.775 5.775 1.414-1.414L13.414 12l5.775-5.775-1.414-1.414L12 10.586 6.225 4.811z"/></svg>
    </button>
  </div>
  <div class="drawer-body">
    <div class="drawer-content">
      <details class="rail" open>
        <summary>Search</summary>
        <div class="inner">
          <input id="q" type="text" class="ghost" placeholder="PLAYER NAME" autocomplete="off"/>
          <div class="hint">Type a player’s name to filter the grid.</div>
        </div>
      </details>

      <details class="rail" open>
        <summary>By Level</summary>
        <div class="inner"><select id="lvl" class="ghost select-multi" multiple></select></div>
      </details>

      <details class="rail" open>
        <summary>By Grad Class</summary>
        <div class="inner"><select id="grad" class="ghost select-multi" multiple></select></div>
      </details>

      <details class="rail" open>
        <summary>By Roster Year</summary>
        <div class="inner"><select id="roster" class="ghost select-multi" multiple></select></div>
      </details>

      <details class="rail" open>
        <summary>By Status</summary>
        <div class="inner">
          <select id="status" class="ghost select-multi" multiple>
            <option value="Active">ACTIVE</option>
            <option value="Free Agent">FREE AGENT</option>
            <option value="Injured">INJURED</option>
            <option value="Retired">RETIRED</option>
          </select>
        </div>
      </details>
    </div>
  </div>
</aside>

<main>
  <section id="grid" class="grid"></section>
</main>

<footer class="footer">
  <div class="band">
    <div class="build">BUILD: …</div>
    <img src="https://i.postimg.cc/v8LxKy54/no-errors-sample-banner.png" alt="Sponsor banner">
  </div>
</footer>

<script data-mod="app-core" data-ver="4.0.10">
/* ===== helpers ===== */
const byId = id => document.getElementById(id);
const INTERACTIVE_SEL = '[data-noflip], .tabbtn, .action-chip, a,button,input,select,textarea';
const LEVEL_ORDER = ["MLB","TRIPLE-A","DOUBLE-A","HIGH-A","LOW-A","ROOKIE","INDY","NCAA-D1","NCAA-D2","NCAA-D3","NAIA","JUCO"];

function lvlClass(l){return String(l||'').toLowerCase().replace(/\s+/g,'-').replace('aaa','triple-a').replace('aa','double-a')}
function teamAndParent(p){
  const raw=String(p.team||''); const parts=raw.split('—');
  const team=parts[0]?.trim()||raw; let parent=(parts[1]||'').trim();
  if((p.currentLevel||'').toUpperCase()==='MLB') parent='';
  return {team,parent};
}
function fmtLast3(g){ return `${g.date||'—'} • ${g.opp||'—'} — ${g.line||'—'}`; }
function formatNextTwoLines(ng){
  if(!ng) return ['—','—'];
  const ds=String(ng.date||'');
  const mmdd=(ds.match(/\b(\d{1,2}\/\d{1,2})\b/)||[, '—'])[1];
  let time=(ds.match(/(\d{1,2}:\d{2}\s*[AP]M)/i)||[, '—'])[1]; if(time) time=time.toUpperCase();
  const tz=(ds.match(/\b(ET|CT|MT|PT|AZ)\b/i)||[, ''])[1]; const withTZ = tz? `${time} ${tz.toUpperCase()}`: time;
  return [`${mmdd} - ${withTZ}`.trim(), String(ng.opponent||'—').trim()||'—'];
}

/* ===== data ===== */
const playersRaw = [
  {