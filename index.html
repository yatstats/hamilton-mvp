<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <title>YAT?STATS â€” Hamilton Active Alumni</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html,body{margin:0;background:#0b0b0b;color:#e5e7eb;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
    main{max-width:1200px;margin:0 auto;padding:14px 12px 46px}
    #grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:16px}

    /* HERO ROW UNDER THE HEADER */
    .hero{position:relative;z-index:1;background:#000;border-top:1px solid #1f2530;border-bottom:1px solid #1f2530;
      display:grid;grid-template-columns:1fr auto;align-items:center;padding:6px 10px}
    .tag-left{display:flex;align-items:center;gap:8px;white-space:nowrap}
    .tag-grey{color:#9aa1ab;font:300 14px/1.2 "Roboto Condensed",system-ui}
    .tag-strong{color:#fff;font:700 16px/1.2 "Anton",system-ui}
    .tag-right{display:flex;align-items:center;gap:6px}
    .hbtn{width:38px;height:38px;border:0;background:transparent;border-radius:10px;display:grid;place-items:center;cursor:pointer}
    .hbtn:hover{background:rgba(255,255,255,.08)} .hbtn svg{width:21px;height:21px;color:#fff}

    /* splash */
    .splash{position:fixed;inset:0;z-index:9999;background:#000;color:#fff;display:grid;grid-template-rows:auto 1fr auto;opacity:1;transition:opacity .6s}
    .splash.hide{opacity:0;pointer-events:none}
    .s-top{display:flex;gap:10px;padding:10px 12px 0}
    .s-btn{width:36px;height:36px;border:0;background:transparent;display:grid;place-items:center;border-radius:10px;cursor:pointer}
    .s-btn svg{width:20px;height:20px;color:#fff}
    .s-mid{display:grid;place-items:center;text-align:center;padding:0 24px}
    .s-title{font:700 clamp(36px,8vw,80px)/.95 "Anton",system-ui}
    .s-sub{font:700 clamp(18px,4vw,34px)/1 "Anton",system-ui;opacity:.95;margin-top:8px}
    .s-bot{display:grid;place-items:center;padding:18px 12px 26px;gap:10px}
    .s-logos{display:grid;grid-auto-flow:column;align-items:center;gap:16px}
    .s-logos img{height:clamp(46px,10vw,90px);width:auto;object-fit:contain}
    .s-div{width:2px;height:clamp(40px,9vw,78px);background:#bbb;opacity:.7}

    .build{position:fixed;left:12px;bottom:12px;background:#111;color:#cbd5e1;border:1px solid #1f2937;border-radius:12px;font-size:13px;padding:8px 10px;opacity:.9}
  </style>
</head>
<body>
  <div id="headerMount"></div>

  <!-- HERO (TAGLINE + SEARCH/FILTER/RESET) -->
  <div class="hero">
    <div class="tag-left">
      <span class="tag-grey">WHERE THEY</span><span class="tag-strong">YAT?</span>
      <span style="width:16px"></span>
      <span class="tag-grey">FLIP FOR</span><span class="tag-strong">STATS!</span>
    </div>
    <div class="tag-right">
      <button id="iconSearch" class="hbtn" aria-label="Search"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M11 4a7 7 0 1 1 0 14 7 7 0 0 1 0-14zm9.7 15.3-3.4-3.4a9 9 0 1 0-1.4 1.4l3.4 3.4a1 1 0 0 0 1.4-1.4z"/></svg></button>
      <button id="iconFilter" class="hbtn" aria-label="Filters"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M3 5h18l-6.5 7.5V20l-5-2v-5.5L3 5z"/></svg></button>
      <button id="iconReset" class="hbtn" aria-label="Reset"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 5V2L8 6l4 4V7a5 5 0 1 1-5 5H5a7 7 0 1 0 7-7z"/></svg></button>
    </div>
  </div>

  <!-- SPLASH -->
  <div id="splash" class="splash" role="dialog" aria-modal="true" aria-label="Intro screen">
    <div class="s-top">
      <button class="s-btn" id="splashAccount" aria-label="Account"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2c-4.2 0-8 2.1-8 5v1h16v-1c0-2.9-3.8-5-8-5z"/></svg></button>
      <button class="s-btn" id="splashTheme" aria-label="Toggle theme"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 3a9 9 0 1 0 9 9 7 7 0 0 1-9-9z"/></svg></button>
    </div>
    <div class="s-mid"><div><div class="s-title">YAT?STATS</div><div class="s-sub">HAMILTON HIGH SCHOOL</div></div></div>
    <div class="s-bot">
      <div class="s-logos">
        <img src="https://i.postimg.cc/pVm0vHdX/hamilton-logo-tight-transparent-background.png" alt="Hamilton H">
        <div class="s-div" aria-hidden="true"></div>
        <img src="https://i.postimg.cc/R0GsT1Mg/sponsor-logo.png" alt="USA BMX">
      </div>
      <div style="font:300 14px/1.2 'Roboto Condensed',system-ui;color:#cbd5e1">presented by USA BMX</div>
    </div>
  </div>

  <main><div id="grid" aria-live="polite"></div></main>
  <div class="build">BUILD: ham-v4.7.3</div>

  <script>
  (async function(){
    async function inject(url, mount){ const r=await fetch(url,{cache:'no-cache'}); mount.innerHTML=await r.text(); }
    await inject('header.html', document.getElementById('headerMount'));

    // splash
    const splash=document.getElementById('splash'); const hide=()=>{splash.classList.add('hide');setTimeout(()=>splash.remove(),650);}
    let t=setTimeout(hide,1700); splash.addEventListener('click',()=>{clearTimeout(t);hide();});
    document.getElementById('splashAccount')?.addEventListener('click',e=>{e.stopPropagation();document.getElementById('iconProfile')?.click();hide();});
    document.getElementById('splashTheme')?.addEventListener('click',e=>{e.stopPropagation();document.getElementById('themeToggle')?.click();});

    // load cards api
    const txt=await (await fetch('cards.html',{cache:'no-cache'})).text(); const tmp=document.createElement('div'); tmp.innerHTML=txt;
    tmp.querySelectorAll('style').forEach(s=>document.head.appendChild(s)); for(const s of tmp.querySelectorAll('script')){const ns=document.createElement('script');ns.textContent=s.textContent;document.body.appendChild(ns);}
    const grid=document.getElementById('grid');
    if(window.YAT?.renderCards){ const list=(YAT.playersDefaultView&&YAT.playersDefaultView())||YAT.players||[]; YAT.renderCards(grid,list);
      // populate class filter
      const clsSel=document.getElementById('fltClass'); if(clsSel&&YAT.players){[...new Set(YAT.players.map(p=>p.graduatingClass).filter(Boolean))].sort().forEach(c=>{const o=document.createElement('option');o.value=o.textContent=c;clsSel.appendChild(o);});}
    } else { grid.textContent='cards.html failed to load.'; }
  })();
  </script>
</body>
</html>