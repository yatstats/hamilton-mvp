<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Hamilton YAT?STATS — ham-v4.6.3</title>

<!-- Allow external images (PostImage), keep the rest strict -->
<meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
               img-src 'self' https: data:;
               style-src 'self' 'unsafe-inline';
               script-src 'self';
               connect-src 'self' https:;
               font-src 'self' https: data:;">

<style>
  :root{
    --ink:#f9fafb; --bg:#0b0d10; --muted:#a3a3a3; --ring:#ffffff14;
    --maroon:#7A0019; --headerH:72px;
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:15px/1.45 system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial}
  a{color:inherit;text-decoration:none}

  /* =================== HEADER =================== */
  .site-header{position:sticky; top:0; z-index:1000; backdrop-filter:saturate(140%) blur(6px);
    background:rgba(0,0,0,.6); border-bottom:1px solid var(--ring)}
  .header-row{display:flex; align-items:center; gap:12px; padding:10px 14px; min-height:var(--headerH)}
  .icon-btn{all:unset; cursor:pointer; font-size:22px; line-height:1; padding:6px 8px}

  /* brand / center / right */
  .brand{display:flex; align-items:center; min-width:120px}
  .brand img{height:28px; display:block}
  .brand-fallback{font-weight:900; letter-spacing:.03em}

  .header-center{flex:1 1 auto; min-width:0; text-align:left}
  .site-kicker{font-size:11px; letter-spacing:.06em; opacity:.8}
  .site-title{margin:2px 0 0; font-weight:800; line-height:1.05; font-size:18px}
  .site-title span{font-weight:900; font-size:.92em; opacity:.95}

  .header-right{display:flex; align-items:center; gap:14px; flex:0 0 auto}
  .school-badge{height:32px; width:auto; display:block; filter:drop-shadow(0 0 1px rgba(0,0,0,.35))}
  .school-fallback{font-weight:900; font-size:14px; padding:4px 8px; border:1px solid #fff2; border-radius:8px}
  .sponsor-wrap{display:flex; align-items:center; gap:8px}
  .sponsor-kicker{font-size:10px; text-transform:uppercase; letter-spacing:.08em; opacity:.8}
  .sponsor-logo{height:24px; max-width:140px; object-fit:contain; display:block}
  .sponsor-fallback{font-size:12px; opacity:.8; border:1px solid #fff2; border-radius:10px; padding:4px 8px}

  .site-tabs{display:grid; grid-auto-flow:column; gap:14px; padding:8px 14px 10px; overflow:auto;
    border-top:1px solid var(--ring)}
  .site-tabs a{white-space:nowrap; font-weight:700; font-size:12.5px; opacity:.88}
  .site-tabs a:hover{opacity:1}

  @media (min-width:720px){
    .brand img{height:32px}
    .site-title{font-size:22px}
    .school-badge{height:36px}
    .sponsor-logo{height:28px}
  }
  @media (max-width:380px){
    .site-title{font-size:16px}
    .sponsor-wrap{display:none} /* keep header clean on tiny screens */
  }

  /* =================== CONTENT =================== */
  .wrap{padding:16px}
  .player-card{background:#fff; color:#111; border-radius:16px; overflow:hidden; box-shadow:0 2px 24px #00000040; margin:18px 0}
  .player-media{display:grid; grid-template-columns:1fr 1fr; gap:0; background:#0f1115}
  .player-media img{width:100%; height:100%; object-fit:cover; display:block; background:#13161a}
  .player-meta{padding:14px 16px 6px}
  .player-name{margin:0 0 4px; font-weight:800; font-size:18px}
  .player-sub{margin:0 0 10px; color:#4b5563; font-size:13px}
  .profile-link{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid #e5e7eb; border-radius:999px; font-weight:700}
  .profile-link small{font-weight:600; color:#6b7280}
  .stat-grid{display:grid; grid-template-columns:repeat(6,1fr); gap:10px; padding:14px 16px 18px; background:#f7f7f8}
  .stat{background:#fff; border:1px solid #e9eaee; border-radius:12px; padding:10px; text-align:center}
  .stat .k{font-size:11px; color:#6b7280; letter-spacing:.04em}
  .stat .v{font-size:18px; font-weight:800}

  /* footer tag for build */
  .build{position:fixed; left:16px; bottom:12px; background:#1f2937; color:#fff; padding:6px 10px; border-radius:12px; opacity:.9; font-size:12px}
</style>
</head>
<body>

<header class="site-header" role="banner">
  <div class="header-row">
    <button class="icon-btn" aria-label="Menu" id="navToggle">☰</button>

    <!-- Brand (image or fallback text) -->
    <a class="brand" href="/" aria-label="YAT?STATS Home">
      <img id="brandLogo" alt="YAT?STATS" referrerpolicy="no-referrer" style="display:none">
      <span id="brandFallback" class="brand-fallback">YAT?STATS</span>
    </a>

    <!-- Center -->
    <div class="header-center">
      <div class="site-kicker">CHANDLER, AZ</div>
      <h1 class="site-title">HAMILTON HIGH SCHOOL<br><span>ACTIVE ALUMNI</span></h1>
    </div>

    <!-- Right: school badge + sponsor -->
    <div class="header-right">
      <div>
        <img id="schoolBadge" class="school-badge" alt="School badge" referrerpolicy="no-referrer" style="display:none">
        <span id="schoolFallback" class="school-fallback">H</span>
      </div>
      <div class="sponsor-wrap" aria-label="Presented by">
        <span class="sponsor-kicker">presented by</span>
        <img id="sponsorLogo" class="sponsor-logo" alt="Sponsor logo" referrerpolicy="no-referrer" style="display:none">
        <span id="sponsorFallback" class="sponsor-fallback">Sponsor</span>
      </div>
    </div>
  </div>

  <nav class="site-tabs" aria-label="Primary">
    <a href="#where">WHERE THEY YAT?</a>
    <a href="#roster">ROSTER</a>
    <a href="#stats">STATS</a>
    <a href="#news">NEWS</a>
    <a href="#videos">VIDEOS</a>
    <a href="#schedule">SCHEDULE</a>
    <a href="#about">ABOUT</a>
    <a href="#contact">CONTACT</a>
  </nav>
</header>

<main class="wrap" id="app"></main>

<div class="build">BUILD: ham-v4.6.3</div>

<script>
/* ----------------- SET YOUR LOGO URLS HERE -----------------
   Use DIRECT links (e.g., https://i.postimg.cc/....png)
   Leave empty ("") to use the built-in text fallbacks.
----------------------------------------------------------------*/
const BRAND_LOGO_URL  = "https://i.postimg.cc/XXXX/yatstats-wordmark.png";     // TODO
const SCHOOL_BADGE_URL= "https://i.postimg.cc/XXXX/hamilton-H.png";             // TODO
const SPONSOR_LOGO_URL= "https://i.postimg.cc/XXXX/your-sponsor-logo.png";      // TODO

/* If you already define window.players in another file, we’ll use it.
   Otherwise this lightweight sample keeps the page rendering. */
const players = (window.players && Array.isArray(window.players)) ? window.players : [
  {
    name: "Cody Bellinger",
    team: "Hamilton",
    org: "Huskies",
    profileUrl: "https://thebaseballcube.com/content/player/200000/",
    frontImg: "https://i.postimg.cc/XXXX/bellinger-front.jpg",
    highSchoolImg: "https://i.postimg.cc/XXXX/hamilton-card-back.jpg"
  }
];

/* ----------------- UTILITIES ----------------- */
function setHeaderImg(imgEl, fallbackEl, url){
  if (!url) { imgEl.style.display='none'; fallbackEl.style.display='inline-block'; return; }
  const direct = /^https?:\/\//i.test(url) ? url : url;
  imgEl.onload = ()=>{ imgEl.style.display='block'; fallbackEl.style.display='none'; };
  imgEl.onerror= ()=>{ imgEl.style.display='none';  fallbackEl.style.display='inline-block'; };
  imgEl.src = direct;               // don't rewrite absolute URLs
  imgEl.decoding = 'async';
  imgEl.loading  = 'eager';
  imgEl.referrerPolicy = 'no-referrer';
}

function resolveSrc(url){
  if (!url) return '';
  if (/^https?:\/\//i.test(url)) return url;        // leave absolute links alone
  return url.startsWith('/') ? url : `/${url}`;     // support root-relative
}
function getImg(obj, ...keys){
  for (const k of keys){ if (obj && obj[k]) return resolveSrc(obj[k]); }
  return '';
}
function imgEl(src, alt=''){
  const img = new Image();
  img.decoding = 'async';
  img.loading  = 'lazy';
  img.referrerPolicy = 'no-referrer';
  img.alt = alt;
  img.src = src;
  img.onerror = function(){ this.replaceWith(document.createComment('img-missing')); };
  return img;
}

/* ----------------- RENDER ----------------- */
function makeCard(p){
  const frontSrc = getImg(p,'frontImg','frontUrl','front','cardFront');
  const hsSrc    = getImg(p,'highSchoolImg','hsUrl','hsImg','schoolImg');

  const card = document.createElement('article');
  card.className = 'player-card';

  const media = document.createElement('div');
  media.className = 'player-media';
  media.append(
    imgEl(frontSrc || '/assets/placeholder-card.jpg', `${p.name||''} front`),
    imgEl(hsSrc    || '/assets/placeholder-hs.png',   `${p.name||''} HS`)
  );

  const meta = document.createElement('div');
  meta.className = 'player-meta';

  const h = document.createElement('h3');
  h.className = 'player-name';
  h.textContent = p.name || 'Unknown Player';

  const sub = document.createElement('div');
  sub.className = 'player-sub';
  sub.textContent = `${p.team || '—'}  •  ${p.org || '—'}`;

  // Player Profile link (Name → Team → Org)
  const profile = document.createElement('a');
  profile.className = 'profile-link';
  profile.href = p.profileUrl || '#';
  profile.target = '_blank';
  profile.rel = 'noopener';
  profile.innerHTML = `<span>Player Profile</span> <small>${(p.team||'').toUpperCase()} → ${(p.org||'').toUpperCase()}</small>`;

  meta.append(h, sub, profile);

  const grid = document.createElement('div');
  grid.className = 'stat-grid';
  ['AVG','OBP','SLG','OPS','H','R','HR','RBI','2B','3B','SB','BB'].forEach(k=>{
    const cell = document.createElement('div');
    cell.className = 'stat';
    cell.innerHTML = `<div class="k">${k}</div><div class="v">—</div>`;
    grid.appendChild(cell);
  });

  card.append(media, meta, grid);
  return card;
}

function render(){
  // Header logos
  setHeaderImg(document.getElementById('brandLogo'),  document.getElementById('brandFallback'),  BRAND_LOGO_URL);
  setHeaderImg(document.getElementById('schoolBadge'),document.getElementById('schoolFallback'),SCHOOL_BADGE_URL);
  setHeaderImg(document.getElementById('sponsorLogo'),document.getElementById('sponsorFallback'),SPONSOR_LOGO_URL);

  // Cards
  const app = document.getElementById('app');
  app.innerHTML = '';
  (players||[]).forEach(p => app.appendChild(makeCard(p)));
}
render();

/* Console audit to catch any bad URLs fast */
window.addEventListener('load', () => {
  (players || []).forEach(p => {
    const u1 = getImg(p,'frontImg','frontUrl','front','cardFront');
    const u2 = getImg(p,'highSchoolImg','hsUrl','hsImg','schoolImg');
    if (!u1 || !/^https?:\/\//.test(u1)) console.warn('FRONT (check URL):', p.name, u1);
    if (!u2 || !/^https?:\/\//.test(u2)) console.warn('HS (check URL):', p.name, u2);
  });
});
</script>
</body>
</html>