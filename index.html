<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YAT?STATS • Hamilton – Where They YAT?</title>

  <!-- Tailwind (CDN) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <style>
    :root{ --maroon:#7A0019; --ink:#111; --ring:#E3E6EA; }
    *{ font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif }
    .site-header{ height:112px } @media (max-width:768px){ .site-header{ height:75px } }
    .nav-link{ letter-spacing:.06em; font-weight:700 }
    .nav-link.active{ color:var(--maroon); position:relative }
    .nav-link.active::after{ content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px; background:var(--maroon) }
    #mobile-sidebar{ transition:transform .25s ease }

    /* Flip card (3 sides) */
    .flip-card{ perspective:1200px }
    .flip-card-inner{ position:relative; width:100%; height:100%; transform-style:preserve-3d; transition:transform .6s }
    .panel{ position:absolute; inset:0; backface-visibility:hidden; -webkit-backface-visibility:hidden }
    .panel.side2{ transform:rotateY(120deg) }
    .panel.side3{ transform:rotateY(240deg) }
    .flip-rot-0  .flip-card-inner{ transform:rotateY(0deg) }
    .flip-rot-120 .flip-card-inner{ transform:rotateY(120deg) }
    .flip-rot-240 .flip-card-inner{ transform:rotateY(240deg) }

    /* Tags + images */
    .tag{ padding:.25rem .5rem; border-radius:.375rem; font-weight:700; font-size:.70rem; color:#fff }
    .tag-mlb{background:#7A0019} .tag-aaa{background:#2563eb} .tag-kbo{background:#0ea5e9}
    .card-img{ aspect-ratio:5/8; object-fit:cover; width:100%; border-radius:.5rem }

    /* Footer banner */
    .footer-wrap{ height:77px } .footer-img{ height:100%; width:100%; object-fit:cover }
    .logo-yat{ height:32px } @media (min-width:768px){ .logo-yat{ height:48px } }
  </style>
</head>
<body class="bg-neutral-100 text-[15px]">

  <!-- Header -->
  <header class="site-header fixed top-0 inset-x-0 z-40 bg-white border-b border-[var(--ring)]">
    <div class="h-full px-4 md:px-6 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <img src="https://i.postimg.cc/NjRf6nGF/hamilton-log-with-3-lines.png"
             alt="Hamilton High School • Active Alumni" class="h-9 md:h-12 w-auto"
             onerror="this.src='https://i.postimg.cc/76srDfFT/yatstats-logo-stacked.png'">
        <nav class="hidden md:flex items-center gap-6 ml-6">
          <a class="nav-link active uppercase text-[12px]" href="#">Where They YAT?</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">Active Alumni News</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">All-Time Huskies Roster</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">YAT-A-BOY Marketplace</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">PCDAction Partners</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">Current HS Team</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">Global School Search</a>
          <a class="nav-link uppercase text-[12px] text-neutral-600 hover:text-[var(--maroon)]" href="#">Register | Login</a>
        </nav>
      </div>
      <div class="flex items-center gap-4">
        <img src="https://i.postimg.cc/76srDfFT/yatstats-logo-stacked.png" alt="YAT?STATS" class="logo-yat w-auto">
        <button id="hamburger" class="md:hidden p-2 rounded border border-[var(--ring)]" aria-label="Open menu">
          <svg width="20" height="20" fill="none" stroke="currentColor"><path stroke-width="2" d="M3 6h14M3 10h14M3 14h14"/></svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Mobile drawer -->
  <aside id="mobile-sidebar" class="fixed top-0 right-0 bottom-0 z-50 w-[80%] max-w-sm bg-white shadow-2xl translate-x-full md:hidden">
    <div class="pt-[75px] px-5 pb-6 space-y-6">
      <div class="relative">
        <input id="search-input-m" type="text" placeholder="Search by Player Name"
               class="w-full pl-10 pr-3 py-2 border border-[var(--ring)] rounded">
        <svg class="absolute left-3 top-1/2 -translate-y-1/2" width="16" height="16" fill="none" stroke="#9CA3AF">
          <circle cx="7" cy="7" r="5"/><path d="M11 11l4 4" stroke-width="2"/></svg>
      </div>
      <nav class="flex flex-col gap-4 text-right">
        <a class="nav-link active uppercase text-[14px]" href="#">Where They YAT?</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">Active Alumni News</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">All-Time Huskies Roster</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">YAT-A-BOY Marketplace</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">PCDAction Partners</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">Current HS Team</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">Global School Search</a>
        <a class="nav-link uppercase text-[14px] text-neutral-600" href="#">Register | Login</a>
      </nav>
    </div>
  </aside>
  <div id="sidebar-overlay" class="fixed inset-0 bg-black/30 hidden md:hidden"></div>

  <!-- Main -->
  <main class="pt-[75px] md:pt-[112px] pb-[77px]">
    <!-- Filters -->
    <section class="px-4 md:px-6 py-3 flex items-center gap-3 sticky top-[75px] md:top-[112px] bg-white/90 backdrop-blur z-30 border-b border-[var(--ring)]">
      <div class="relative flex-1">
        <input id="search-input" type="text" placeholder="Search by Player Name"
               class="w-full pl-10 pr-3 py-2 border border-[var(--ring)] rounded">
        <svg class="absolute left-3 top-1/2 -translate-y-1/2" width="16" height="16" fill="none" stroke="#9CA3AF">
          <circle cx="7" cy="7" r="5"/><path d="M11 11l4 4" stroke-width="2"/></svg>
      </div>
      <select id="grad-filter" class="px-3 py-2 border border-[var(--ring)] rounded text-sm">
        <option value="">Graduating Class</option>
      </select>
      <select id="level-filter" class="px-3 py-2 border border-[var(--ring)] rounded text-sm">
        <option value="">Current Level</option>
      </select>
    </section>

    <!-- Grid -->
    <section id="roster-grid" class="px-4 md:px-6 py-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></section>
  </main>

  <!-- Footer -->
  <footer class="footer-wrap fixed bottom-0 inset-x-0 bg-white border-t border-[var(--ring)]">
    <img class="footer-img" src="https://i.postimg.cc/05DWb4Fj/bmx-banner.png" alt="Sponsor banner">
  </footer>

  <script>
    /* ----- HARD-CODED DEMO PLAYERS (always render) ----- */
    const players = [
      {
        id:"bellinger",
        name:"Cody Bellinger",
        graduatingClass:2013,
        currentLevel:"MLB",
        position:"CF/1B",
        team:"New York Yankees",
        frontImg:"https://i.postimg.cc/Y2PVpqNK/new-york-yankees-outfielder-cody-bellinger.jpg",
        highSchoolImg:"https://i.postimg.cc/z3h5j6H9/Bellinger-Hamilton-HS.jpg",
        seasonStats:{ avg:"—", hr:"—", rbi:"—", ops:"—" },
        lastGame:{ line:"—" }, nextGame:{ opponent:"—", time:"—" }
      },
      {
        id:"patrick-murphy",
        name:"Patrick Murphy",
        graduatingClass:2013,
        currentLevel:"KBO",
        position:"P",
        team:"KT Wiz Suwon",
        frontImg:"https://i.postimg.cc/gc32dtQG/MURPH.avif",
        highSchoolImg:"https://i.postimg.cc/pL6kR3Fq/21-Murphy-Back-page-00001.jpg",
        seasonStats:{ era:"—", so:"—", whip:"—" },
        lastGame:{ line:"—" }, nextGame:{ opponent:"—", time:"—" }
      },
      {
        id:"dom-hamel",
        name:"Dom Hamel",
        graduatingClass:2017,
        currentLevel:"AAA",
        position:"P",
        team:"Syracuse Mets",
        frontImg:"https://i.postimg.cc/Vv9fR5nJ/dom.webp",
        highSchoolImg:"https://i.postimg.cc/85zK09qS/23-Hamel-Back-page-00001.jpg",
        seasonStats:{ era:"—", k9:"—", wl:"—" },
        lastGame:{ line:"—" }, nextGame:{ opponent:"—", time:"—" }
      }
    ];

    /* ----- HELPERS ----- */
    const levelTag = lvl => {
      const k = (lvl||'').toLowerCase();
      return { mlb:'tag-mlb', aaa:'tag-aaa', kbo:'tag-kbo' }[k] || 'tag-mlb';
    };
    const safeImg = (src,alt) =>
      `src="${src}" alt="${alt}" loading="lazy" decoding="async" onerror="this.src='https://i.postimg.cc/76srDfFT/yatstats-logo-stacked.png'"`;

    function makeCard(p){
      const lvl = levelTag(p.currentLevel);
      const isPitcher = /\bp\b|pitch/i.test(p.position||'');
      const season = isPitcher
        ? `<div class="grid grid-cols-3 gap-2">
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">ERA</div><div class="font-semibold">${p.seasonStats?.era||'—'}</div></div>
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">SO/K9</div><div class="font-semibold">${p.seasonStats?.so||p.seasonStats?.k9||'—'}</div></div>
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">WHIP/W-L</div><div class="font-semibold">${p.seasonStats?.whip||p.seasonStats?.wl||'—'}</div></div>
           </div>`
        : `<div class="grid grid-cols-4 gap-2">
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">AVG</div><div class="font-semibold">${p.seasonStats?.avg||'—'}</div></div>
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">HR</div><div class="font-semibold">${p.seasonStats?.hr||'—'}</div></div>
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">RBI</div><div class="font-semibold">${p.seasonStats?.rbi||'—'}</div></div>
             <div class="bg-neutral-100 rounded p-2 text-center"><div class="text-xs text-neutral-500">OPS</div><div class="font-semibold">${p.seasonStats?.ops||'—'}</div></div>
           </div>`;

      return `
      <article tabindex="0" class="flip-card flip-rot-0 bg-white border border-[var(--ring)] rounded-lg shadow-sm overflow-hidden">
        <div class="flip-card-inner">
          <!-- Side 1 -->
          <div class="panel side1">
            <div class="relative p-3">
              <img class="card-img" ${safeImg(p.frontImg,p.name)} />
              <span class="tag ${lvl} absolute top-4 right-4">${p.currentLevel}</span>
              <div class="absolute inset-x-3 bottom-3 rounded-md bg-gradient-to-t from-black/70 to-transparent p-3 text-white">
                <div class="text-lg font-extrabold leading-tight">${p.name}</div>
                <div class="text-xs opacity-90">${p.team} • ${p.position}</div>
                <div class="mt-2 text-[11px] opacity-90">
                  <div><strong>Last:</strong> ${p.lastGame?.line||'—'}</div>
                  <div><strong>Next:</strong> ${p.nextGame?.opponent||'—'} <span class="opacity-80">• ${p.nextGame?.time||'—'}</span></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Side 2 -->
          <div class="panel side2 bg-white p-4">
            <div class="flex items-start justify-between mb-3">
              <div>
                <div class="text-base font-bold">${p.name}</div>
                <div class="text-xs text-neutral-500">${p.team} • ${p.position}</div>
              </div>
              <span class="tag ${lvl}">${p.currentLevel}</span>
            </div>
            ${season}
            <div class="mt-3 text-xs text-neutral-500">Hamilton Class of ${p.graduatingClass||'—'}</div>
          </div>

          <!-- Side 3 -->
          <div class="panel side3 bg-white">
            ${p.highSchoolImg
              ? `<img class="w-full h-full object-cover" style="aspect-ratio:5/8" ${safeImg(p.highSchoolImg, p.name+' – Hamilton HS')}>`
              : `<div class="h-full flex items-center justify-center text-neutral-400">No HS image yet</div>`}
          </div>
        </div>
      </article>`;
    }

    function render(list){
      document.getElementById('roster-grid').innerHTML = list.map(makeCard).join('');
    }

    function populateFilters(){
      const classes = [...new Set(players.map(p=>p.graduatingClass))].filter(Boolean).sort((a,b)=>b-a);
      const levels  = [...new Set(players.map(p=>p.currentLevel))];
      const gf = document.getElementById('grad-filter');
      const lf = document.getElementById('level-filter');
      classes.forEach(c=>{ const o=document.createElement('option'); o.value=c; o.textContent=c; gf.appendChild(o); });
      levels.forEach(l=>{ const o=document.createElement('option'); o.value=l; o.textContent=l; lf.appendChild(o); });
    }

    function applyFilters(){
      const q = (document.getElementById('search-input').value||'').toLowerCase();
      const g = document.getElementById('grad-filter').value;
      const l = document.getElementById('level-filter').value;
      render(players.filter(p =>
        (!q || p.name.toLowerCase().includes(q)) &&
        (!g || String(p.graduatingClass)===g) &&
        (!l || p.currentLevel===l)
      ));
    }

    function rotateCard(card, right){
      if(card.classList.contains('flip-rot-0')){
        card.classList.replace('flip-rot-0', right ? 'flip-rot-120' : 'flip-rot-240');
      }else if(card.classList.contains('flip-rot-120')){
        card.classList.replace('flip-rot-120', right ? 'flip-rot-240' : 'flip-rot-0');
      }else{
        card.classList.replace('flip-rot-240', right ? 'flip-rot-0' : 'flip-rot-120');
      }
    }

    document.addEventListener('click', e=>{
      const card = e.target.closest('.flip-card'); if(!card) return;
      const rect = card.getBoundingClientRect();
      const right = (e.clientX - rect.left) > rect.width/2;
      rotateCard(card, right);
    });

    document.addEventListener('keydown', e=>{
      if(!['ArrowLeft','ArrowRight'].includes(e.key)) return;
      const card = document.activeElement?.closest?.('.flip-card'); if(!card) return;
      rotateCard(card, e.key==='ArrowRight');
    });

    // Mobile drawer
    const hamb = document.getElementById('hamburger');
    const drawer = document.getElementById('mobile-sidebar');
    const overlay = document.getElementById('sidebar-overlay');
    const openDrawer = ()=>{ drawer.classList.remove('translate-x-full'); overlay.classList.remove('hidden'); };
    const closeDrawer= ()=>{ drawer.classList.add('translate-x-full'); overlay.classList.add('hidden'); };
    hamb?.addEventListener('click', ()=> drawer.classList.contains('translate-x-full') ? openDrawer() : closeDrawer());
    overlay?.addEventListener('click', closeDrawer);

    // Init (no async; guaranteed render)
    populateFilters();
    render(players);

    // Live filter handlers
    ['search-input','grad-filter','level-filter'].forEach(id=>{
      const el = document.getElementById(id);
      el?.addEventListener('input', applyFilters);
      el?.addEventListener('change', applyFilters);
    });
  </script>
</body>
</html>